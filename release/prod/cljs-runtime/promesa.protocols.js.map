{"version":3,"file":"promesa.protocols.js","sources":["promesa/protocols.cljc"],"mappings":"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","names":["x__5859__auto__","m__5860__auto__","promesa/protocols.-map","goog/typeOf","cljs.core/missing-protocol","promesa/protocols.-bind","promesa/protocols.-catch","promesa.protocols/IPromise","promesa.protocols/-map","_","callback","promesa.protocols/-bind","promesa.protocols/-catch","promesa/protocols.-extract","promesa/protocols.-resolved?","promesa/protocols.-rejected?","promesa/protocols.-pending?","promesa.protocols/IState","promesa.protocols/-extract","promesa.protocols/-resolved?","promesa.protocols/-rejected?","promesa.protocols/-pending?","promesa/protocols.-promise","promesa.protocols/IPromiseFactory","promesa.protocols/-promise","promesa/protocols.-cancel","promesa/protocols.-cancelled?","promesa.protocols/ICancellable","promesa.protocols/-cancel","promesa.protocols/-cancelled?","promesa/protocols.-schedule","promesa.protocols/IScheduler","promesa.protocols/-schedule","ms","func"],"sourcesContent":[";; Copyright (c) 2015-2016 Andrey Antukh <niwi@niwi.nz>\n;; All rights reserved.\n;;\n;; Redistribution and use in source and binary forms, with or without\n;; modification, are permitted provided that the following conditions\n;; are met:\n;;\n;; 1. Redistributions of source code must retain the above copyright\n;;    notice, this list of conditions and the following disclaimer.\n;; 2. Redistributions in binary form must reproduce the above copyright\n;;    notice, this list of conditions and the following disclaimer in the\n;;    documentation and/or other materials provided with the distribution.\n;;\n;; THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR\n;; IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n;; OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n;; IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,\n;; INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT\n;; NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n;; DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n;; THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n;; (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n;; THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\n(ns promesa.protocols\n  \"A generic promise abstraction and related protocols.\")\n\n(defprotocol IPromise\n  \"A basic future abstraction.\"\n  (-map [_ callback] \"Chain a promise.\")\n  (-bind [_ callback] \"Chain a promise.\")\n  (-catch [_ callback] \"Catch a error in a promise.\"))\n\n(defprotocol IState\n  \"Additional state/introspection abstraction.\"\n  (-extract [_] \"Extract the current value.\")\n  (-resolved? [_] \"Returns true if a promise is resolved.\")\n  (-rejected? [_] \"Returns true if a promise is rejected.\")\n  (-pending? [_] \"Retutns true if a promise is pending.\"))\n\n(defprotocol IPromiseFactory\n  \"A promise constructor abstraction.\"\n  (-promise [_] \"Create a promise instance.\"))\n\n(defprotocol ICancellable\n  \"A cancellation abstraction.\"\n  (-cancel [_])\n  (-cancelled? [_]))\n\n(defprotocol IScheduler\n  \"A generic abstraction for scheduler facilities.\"\n  (-schedule [_ ms func] \"Schedule a function to be executed in future.\"))\n"]}