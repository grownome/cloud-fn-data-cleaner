["^ ","~:output",["^ ","~:js","goog.provide('data_cleaner.core');\ngoog.require('cljs.core');\ngoog.require('clojure.string');\ngoog.require('shadow.js.shim.module$firebase_admin');\ngoog.require('shadow.js.shim.module$initial_state');\ngoog.require('cljs.core.async');\ngoog.require('shadow.js.shim.module$$google_cloud$bigquery');\ngoog.require('data_cleaner.images');\ngoog.require('promesa.core');\ngoog.require('taoensso.timbre');\nif((typeof data_cleaner !== 'undefined') && (typeof data_cleaner.core !== 'undefined') && (typeof data_cleaner.core.app !== 'undefined')){\n} else {\ndata_cleaner.core.app = shadow.js.shim.module$firebase_admin.initializeApp(({\"credential\": shadow.js.shim.module$firebase_admin.credential.applicationDefault(), \"databaseURL\": \"https://grownome.firebaseio.com\"}));\n}\nif((typeof data_cleaner !== 'undefined') && (typeof data_cleaner.core !== 'undefined') && (typeof data_cleaner.core.bq_client !== 'undefined')){\n} else {\ndata_cleaner.core.bq_client = (new shadow.js.shim.module$$google_cloud$bigquery(({\"projectId\": \"grownome\"})));\n}\ndata_cleaner.core.bq_insert = (function data_cleaner$core$bq_insert(var_args){\nvar G__20875 = arguments.length;\nswitch (G__20875) {\ncase 3:\nreturn data_cleaner.core.bq_insert.cljs$core$IFn$_invoke$arity$3((arguments[(0)]),(arguments[(1)]),(arguments[(2)]));\n\nbreak;\ncase 1:\nreturn data_cleaner.core.bq_insert.cljs$core$IFn$_invoke$arity$1((arguments[(0)]));\n\nbreak;\ndefault:\nthrow (new Error([\"Invalid arity: \",cljs.core.str.cljs$core$IFn$_invoke$arity$1(arguments.length)].join('')));\n\n}\n});\n\ndata_cleaner.core.bq_insert.cljs$core$IFn$_invoke$arity$3 = (function (dataset,table,data){\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"info\",\"info\",-317069002),\"data-cleaner.core\",null,22,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay((function (){\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"inserting bq row\"], null);\n}),null)),null,-1399921844);\n\nreturn data_cleaner.core.bq_client.dataset(dataset).table(table).insert(data).then((function (){\nreturn taoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"info\",\"info\",-317069002),\"data-cleaner.core\",null,27,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay((function (){\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"inserted data\"], null);\n}),null)),null,1812005560);\n})).catch((function (err){\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"error\",\"error\",-978969032),\"data-cleaner.core\",null,29,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay((function (){\nreturn new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"insert error \",err], null);\n}),null)),null,1125409707);\n\ntry{var result__19491__auto___20878 = cljs.core.js__GT_clj.cljs$core$IFn$_invoke$arity$1((err[\"errors\"]));\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"debug\",\"debug\",-1608172596),\"data-cleaner.core\",null,30,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay(((function (result__19491__auto___20878){\nreturn (function (){\nreturn new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.list(new cljs.core.Symbol(null,\"js->clj\",\"js->clj\",1544462432,null),cljs.core.list(new cljs.core.Symbol(null,\"aget\",\"aget\",1491056546,null),new cljs.core.Symbol(null,\"err\",\"err\",-448925678,null),\"errors\")),\"=>\",result__19491__auto___20878], null);\n});})(result__19491__auto___20878))\n,null)),null,851584450);\n\n}catch (e20876){if((e20876 instanceof Error)){\nvar e__19453__auto___20879 = e20876;\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"error\",\"error\",-978969032),\"data-cleaner.core\",null,30,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay(((function (e__19453__auto___20879){\nreturn (function (){\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [e__19453__auto___20879], null);\n});})(e__19453__auto___20879))\n,null)),null,-482427680);\n\nthrow e__19453__auto___20879;\n} else {\nthrow e20876;\n\n}\n}\nreturn taoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"debug\",\"debug\",-1608172596),\"data-cleaner.core\",null,31,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay((function (){\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.js_keys(err)], null);\n}),null)),null,-940090435);\n}));\n});\n\ndata_cleaner.core.bq_insert.cljs$core$IFn$_invoke$arity$1 = (function (data){\nreturn data_cleaner.core.bq_insert.cljs$core$IFn$_invoke$arity$3(\"grownome\",\"metrics\",data);\n});\n\ndata_cleaner.core.bq_insert.cljs$lang$maxFixedArity = 3;\n\ndata_cleaner.core.push_inital_state = (function data_cleaner$core$push_inital_state(bucket,reading,value,timestamp){\nreturn bucket.push(reading,value,timestamp);\n});\ndata_cleaner.core.offset_temp_factor = (function data_cleaner$core$offset_temp_factor(m,b,temp){\nreturn (temp - ((m * temp) + b));\n});\ndata_cleaner.core.cleanup_temp = (function data_cleaner$core$cleanup_temp(value){\nvar adjust = cljs.core.partial.cljs$core$IFn$_invoke$arity$3(data_cleaner.core.offset_temp_factor,0.2,(-9));\nreturn Math.round((function (){var G__20880 = ((value * ((9) / (5))) + (32));\nreturn (adjust.cljs$core$IFn$_invoke$arity$1 ? adjust.cljs$core$IFn$_invoke$arity$1(G__20880) : adjust.call(null,G__20880));\n})());\n});\ndata_cleaner.core.cleanup_humidity = (function data_cleaner$core$cleanup_humidity(value){\nreturn Math.round(value);\n});\ndata_cleaner.core.clean_value = (function data_cleaner$core$clean_value(name,value){\nif(clojure.string.includes_QMARK_(name,\"temp\")){\nreturn data_cleaner.core.cleanup_temp(value);\n} else {\nif(clojure.string.includes_QMARK_(name,\"humidity\")){\nreturn data_cleaner.core.cleanup_humidity(value);\n} else {\nreturn value;\n\n}\n}\n});\ndata_cleaner.core.example_data = new cljs.core.PersistentArrayMap(null, 3, [\"@type\",\"type.googleapis.com/google.pubsub.v1.PubsubMessage\",\"attributes\",new cljs.core.PersistentArrayMap(null, 6, [\"deviceId\",\"bold-meadow\",\"deviceNumId\",\"2538009072846140\",\"deviceRegistryId\",\"nomes\",\"deviceRegistryLocation\",\"us-central1\",\"projectId\",\"grownome\",\"subFolder\",\"metrics/core-temp-main\"], null),\"data\",\"bm9tZXMvMC9ib2xkLW1lYWRvdy1wYXlsb2FkLWNvcmUtdGVtcC1tYWluLzQ3LjA3OA==\"], null);\ndata_cleaner.core.get_device_promise = (function data_cleaner$core$get_device_promise(fs,num_id){\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"info\",\"info\",-317069002),\"data-cleaner.core\",null,80,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay((function (){\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [num_id], null);\n}),null)),null,-1757473622);\n\nvar device_info = fs.collection(\"devices\").where(\"deviceNumId\",\"==\",num_id).limit((1)).get();\nvar device_data = promesa.core.then(device_info,((function (device_info){\nreturn (function (devices){\nreturn cljs.core.first(cljs.core.js__GT_clj.cljs$core$IFn$_invoke$arity$1(cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.PersistentVector.EMPTY,cljs.core.map.cljs$core$IFn$_invoke$arity$2(((function (device_info){\nreturn (function (p1__20881_SHARP_){\nreturn p1__20881_SHARP_.data();\n});})(device_info))\n,devices.docs))));\n});})(device_info))\n);\nreturn device_data;\n});\ndata_cleaner.core.get_initial_state_promise = (function data_cleaner$core$get_initial_state_promise(device_promise){\nreturn promesa.core.then(device_promise,(function (device){\nvar bucket_key = cljs.core.get.cljs$core$IFn$_invoke$arity$2(device,\"bucketKey\");\nvar access_key = cljs.core.get.cljs$core$IFn$_invoke$arity$2(device,\"accessKey\");\nreturn new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [bucket_key,access_key], null);\n}));\n});\n/**\n * Triggered from a message on a Cloud Pub/Sub topic.\n *   * @param {!Object} event The Cloud Functions event.\n *   example event inside data\n *   :deviceId blue-cherry,\n *   :deviceNumId 2711002696579299,\n *   :deviceRegistryId nomes,\n *   :deviceRegistryLocation us-central1,\n *   :projectId grownome,\n *   :subFolder metrics/core-temp-max},\n *   :data bm9tZXMvYmx1ZS1jaGVycnktcGF5bG9hZC1jb3JlLXRlbXAtbWF4LzQzLjg1}\n *   * @param {!Function} The callback function.\n * \n *   debug\n *   \n */\ndata_cleaner.core.subscribe = (function data_cleaner$core$subscribe(event,context){\nvar pubsub_message = event;\nvar clj_event = cljs.core.js__GT_clj.cljs$core$IFn$_invoke$arity$1(event);\nvar attributes = (event[\"attributes\"]);\nvar subfolder = cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(clj_event,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"attributes\",\"subFolder\"], null));\nvar device_num_id = cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(clj_event,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"attributes\",\"deviceNumId\"], null));\nvar subparts = clojure.string.split.cljs$core$IFn$_invoke$arity$2(subfolder,/\\//);\ntaoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"info\",\"info\",-317069002),\"data-cleaner.core\",null,126,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay(((function (pubsub_message,clj_event,attributes,subfolder,device_num_id,subparts){\nreturn (function (){\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [subparts], null);\n});})(pubsub_message,clj_event,attributes,subfolder,device_num_id,subparts))\n,null)),null,-1292108343);\n\nif(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.first(subparts),\"captures\")){\nvar fs = shadow.js.shim.module$firebase_admin.firestore();\nvar vec__20882 = subparts;\nvar kind = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__20882,(0),null);\nvar image_hash = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__20882,(1),null);\nvar max_idx = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__20882,(2),null);\nvar idx = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__20882,(3),null);\nvar data = cljs.core.get.cljs$core$IFn$_invoke$arity$2(clj_event,\"data\");\nvar images_ref = fs.collection(\"images\");\nvar upload_data = new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,\"device-id\",\"device-id\",1535359525),cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(clj_event,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"attributes\",\"deviceNumId\"], null)),new cljs.core.Keyword(null,\"image-id\",\"image-id\",-988480565),image_hash,new cljs.core.Keyword(null,\"part-id\",\"part-id\",1200171909),idx,new cljs.core.Keyword(null,\"image-part\",\"image-part\",-323881589),data], null);\nreturn promesa.core.then(data_cleaner.images.upload_image_part(upload_data),((function (fs,vec__20882,kind,image_hash,max_idx,idx,data,images_ref,upload_data,pubsub_message,clj_event,attributes,subfolder,device_num_id,subparts){\nreturn (function (upload_url){\nvar attributes_20892__$1 = ({\"image_part_url\": upload_url, \"image_id\": image_hash, \"image_max_index\": max_idx, \"image_index\": idx, \"deviceNumId\": device_num_id, \"subFolder\": subfolder, \"timestamp\": Date.now()});\n\nreturn images_ref.add(attributes);\n});})(fs,vec__20882,kind,image_hash,max_idx,idx,data,images_ref,upload_data,pubsub_message,clj_event,attributes,subfolder,device_num_id,subparts))\n);\n} else {\nvar fs_20893 = shadow.js.shim.module$firebase_admin.firestore();\nvar data_20894 = Buffer.from((pubsub_message[\"data\"]),\"base64\");\nvar vec__20885_20895 = clojure.string.split.cljs$core$IFn$_invoke$arity$2(data_20894,/\\//);\nvar reg_20896 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__20885_20895,(0),null);\nvar user_20897 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__20885_20895,(1),null);\nvar name_20898 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__20885_20895,(2),null);\nvar value_20899 = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__20885_20895,(3),null);\nvar readings_ref_20900 = fs_20893.collection(\"readings\");\nvar device_data_promise_20901 = data_cleaner.core.get_device_promise(fs_20893,parseInt(cljs.core.get_in.cljs$core$IFn$_invoke$arity$2(clj_event,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"attributes\",\"deviceNumId\"], null))));\nvar clean_value_20902 = data_cleaner.core.clean_value(name_20898,parseFloat(value_20899));\npromesa.core.catch$.cljs$core$IFn$_invoke$arity$2(promesa.core.then(data_cleaner.core.get_initial_state_promise(device_data_promise_20901),((function (fs_20893,data_20894,vec__20885_20895,reg_20896,user_20897,name_20898,value_20899,readings_ref_20900,device_data_promise_20901,clean_value_20902,pubsub_message,clj_event,attributes,subfolder,device_num_id,subparts){\nreturn (function (p__20888){\nvar vec__20889 = p__20888;\nvar bucket_key = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__20889,(0),null);\nvar access_key = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__20889,(1),null);\nvar b = shadow.js.shim.module$initial_state.bucket(bucket_key,access_key);\nreturn data_cleaner.core.push_inital_state(b,name_20898,clean_value_20902,event.timestamp);\n});})(fs_20893,data_20894,vec__20885_20895,reg_20896,user_20897,name_20898,value_20899,readings_ref_20900,device_data_promise_20901,clean_value_20902,pubsub_message,clj_event,attributes,subfolder,device_num_id,subparts))\n),((function (fs_20893,data_20894,vec__20885_20895,reg_20896,user_20897,name_20898,value_20899,readings_ref_20900,device_data_promise_20901,clean_value_20902,pubsub_message,clj_event,attributes,subfolder,device_num_id,subparts){\nreturn (function (err){\nreturn taoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10(taoensso.timbre._STAR_config_STAR_,new cljs.core.Keyword(null,\"error\",\"error\",-978969032),\"data-cleaner.core\",null,166,new cljs.core.Keyword(null,\"p\",\"p\",151049309),new cljs.core.Keyword(null,\"auto\",\"auto\",-566279492),(new cljs.core.Delay(((function (fs_20893,data_20894,vec__20885_20895,reg_20896,user_20897,name_20898,value_20899,readings_ref_20900,device_data_promise_20901,clean_value_20902,pubsub_message,clj_event,attributes,subfolder,device_num_id,subparts){\nreturn (function (){\nreturn new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [err], null);\n});})(fs_20893,data_20894,vec__20885_20895,reg_20896,user_20897,name_20898,value_20899,readings_ref_20900,device_data_promise_20901,clean_value_20902,pubsub_message,clj_event,attributes,subfolder,device_num_id,subparts))\n,null)),null,1577398371);\n});})(fs_20893,data_20894,vec__20885_20895,reg_20896,user_20897,name_20898,value_20899,readings_ref_20900,device_data_promise_20901,clean_value_20902,pubsub_message,clj_event,attributes,subfolder,device_num_id,subparts))\n);\n\n(attributes[\"reading\"] = clean_value_20902);\n\n(attributes[\"user\"] = user_20897);\n\n(attributes[\"timestamp\"] = event.timestamp);\n\nreturn data_cleaner.core.bq_insert.cljs$core$IFn$_invoke$arity$1(attributes);\n}\n});\ndata_cleaner.core.assemble_images = (function data_cleaner$core$assemble_images(event,context){\nreturn data_cleaner.images.assemble_images(event,context);\n});\n","~:ns-info",["^ ","~:rename-macros",null,"~:renames",["^ "],"~:meta",["^ ","~:file","data_cleaner/core.cljs","~:line",1,"~:column",5,"~:end-line",1,"~:end-column",22],"~:use-macros",["^ ","~$get-env","~$taoensso.timbre","~$reportf","^=","~$fatalf","^=","~$warnf","^=","~$go","~$cljs.core.async","~$report","^=","~$go-loop","^B","~$spy","^=","~$warn","^=","~$trace","^=","~$debug","^=","~$debugf","^=","~$tracef","^=","~$infof","^=","~$fatal","^=","~$errorf","^=","~$info","^=","~$error","^="],"~:excludes",["~#set",[]],"~:name","~$data-cleaner.core","~:js-aliases",["^ ","firebase-admin","~$shadow.js.shim.module$firebase_admin","initial-state","~$shadow.js.shim.module$initial_state","@google-cloud/bigquery","~$shadow.js.shim.module$$google_cloud$bigquery"],"~:op","~:ns","~:imports",null,"~:requires",["^ ","~$bq","^Z","~$i","~$data-cleaner.images","~$p","~$promesa.core","^15","^15","~$timbre","^=","~$a","^B","~$fa","^V","^X","^X","^14","^14","~$cljs.core","^18","~$goog","^19","~$is","^X","^B","^B","^V","^V","^Z","^Z","~$s","~$clojure.string","^=","^=","^1;","^1;"],"~:seen",["^Q",["~:require","~:require-macros"]],"~:uses",null,"^1>",["^ ","^B","^B","^=","^=","^16","^=","^18","^18","~$a","^B"],"~:form",["~#list",["~$ns","^S",["^1A",["^1>",["^B","~:refer",["^A","^D"]]]],["^1A",["^1=",["^1;","~:as","~$s"],["firebase-admin","^1D","^17"],["initial-state","^1D","^1:"],["^B","^1D","~$a"],["@google-cloud/bigquery","^1D","^13"],["^14","^1D","~$i"],["^15","^1D","~$p"],["^=","^1D","^16","~:refer-macros",["^G","^H","^N","^F","^O","^L","^C","^J","^I","^K","^@","^M","^?","^>","^E","^<"]]]]]],"~:flags",["^ ","^1>",["^Q",[]],"^1=",["^Q",[]]],"~:js-deps",["^ ","^U",["^ ","^1D","^17"],"^W",["^ ","^1D","^1:"],"^Y",["^ ","^1D","^13"]],"~:deps",["^19","^18","^1;","^V","^X","^B","^Z","^14","^15","^="]],"^10","^S","~:resource-id",["~:shadow.build.classpath/resource","data_cleaner/core.cljs"],"~:compiled-at",1537237073789,"~:resource-name","data_cleaner/core.cljs","~:warnings",[],"~:source","(ns data-cleaner.core\n  (:require-macros [cljs.core.async :refer [go go-loop]])\n  (:require [clojure.string :as s]\n            [\"firebase-admin\" :as fa]\n            [\"initial-state\" :as is]\n            [cljs.core.async :as a]\n            [\"@google-cloud/bigquery\" :as bq]\n            [data-cleaner.images :as i]\n            [promesa.core :as p]\n            [taoensso.timbre :as timbre\n             :refer-macros [trace  debug  info  warn  error  fatal  report\n                            tracef debugf infof warnf errorf fatalf reportf\n                            spy get-env]]))\n\n(defonce app (.initializeApp fa #js {:credential (.applicationDefault (.-credential fa))\n                                     :databaseURL \"https://grownome.firebaseio.com\"}))\n\n(defonce bq-client  (new bq #js {:projectId \"grownome\"}))\n\n(defn bq-insert\n  ([dataset table data]\n   (info \"inserting bq row\")\n   (->  bq-client\n        (.dataset dataset)\n        (.table table)\n        (.insert data)\n        (.then #(info \"inserted data\"))\n        (.catch (fn [err]\n                  (error \"insert error \" err)\n                  (spy (js->clj (aget err \"errors\")))\n                  (debug (js-keys err))))))\n  ([data]\n   (bq-insert \"grownome\" \"metrics\" data)))\n\n(defn push-inital-state [bucket reading value timestamp]\n  (.push bucket reading value timestamp))\n\n(defn offset-temp-factor [m b temp]\n  ;mx + b\n  (- temp (+ (* m temp) b)))\n\n(defn cleanup-temp [value]\n  (let [adjust (partial offset-temp-factor 0.2 -9) ]\n    (js/Math.round (adjust (+ (* value (/ 9 5)) 32)))))\n\n(defn cleanup-humidity  [value]\n  (js/Math.round value))\n\n\n(defn clean-value [name value]\n  (cond (s/includes? name \"temp\") (cleanup-temp value)\n        (s/includes? name \"humidity\") (cleanup-humidity value)\n        :else value))\n\n\n(def example-data\n  {\"@type\" \"type.googleapis.com/google.pubsub.v1.PubsubMessage\",\n   \"attributes\" {\"deviceId\" \"bold-meadow\",\n                 \"deviceNumId\" \"2538009072846140\",\n                 \"deviceRegistryId\" \"nomes\",\n                 \"deviceRegistryLocation\" \"us-central1\",\n                 \"projectId\" \"grownome\",\n                 \"subFolder\" \"metrics/core-temp-main\"},\n   \"data\" \"bm9tZXMvMC9ib2xkLW1lYWRvdy1wYXlsb2FkLWNvcmUtdGVtcC1tYWluLzQ3LjA3OA==\"})\n\n\n(comment\n  \"\n .then(snapshot => {\n                    snapshot.forEach(doc => {\n                                             console.log(doc.id, '=>', doc.data());\n                                             });\n                    })\n .catch(err)\n\"\n\n )\n(defn get-device-promise\n  [fs num-id]\n  (info num-id)\n  (let [device-info (-> fs\n                        (.collection \"devices\")\n                        (.where \"deviceNumId\" \"==\" num-id)\n                        (.limit 1)\n                        (.get))\n        device-data\n        (p/then device-info\n                (fn [devices]\n                  (first (js->clj\n                          (into []\n                                (map\n                                 #(.data %)\n                                 (.-docs   devices)))))))]\n    device-data))\n\n(defn get-initial-state-promise\n  [device-promise]\n  (p/then device-promise\n          (fn [device ]\n            (let [bucket-key (get device \"bucketKey\")\n                  access-key (get device \"accessKey\")]\n              [bucket-key access-key]))))\n\n(defn subscribe\n  \"Triggered from a message on a Cloud Pub/Sub topic.\n  * @param {!Object} event The Cloud Functions event.\n  example event inside data\n  :deviceId blue-cherry,\n  :deviceNumId 2711002696579299,\n  :deviceRegistryId nomes,\n  :deviceRegistryLocation us-central1,\n  :projectId grownome,\n  :subFolder metrics/core-temp-max},\n  :data bm9tZXMvYmx1ZS1jaGVycnktcGF5bG9hZC1jb3JlLXRlbXAtbWF4LzQzLjg1}\n  * @param {!Function} The callback function.\n\n  debug\n  \"\n  [event context]\n  (let [pubsub-message  event\n        clj-event       (js->clj event)\n        attributes      (aget event \"attributes\")\n        subfolder       (get-in clj-event [\"attributes\" \"subFolder\"])\n        device-num-id   (get-in clj-event [\"attributes\" \"deviceNumId\"])\n        subparts        (s/split subfolder #\"/\")]\n    (info subparts)\n    (if (= (first subparts) \"captures\")\n      ;;; Is image\n      (do\n        (let [fs                            (fa/firestore)\n              [kind image-hash max-idx idx] subparts\n              data                          (get clj-event \"data\")\n              images-ref                    (-> fs (.collection \"images\"))\n\n              upload-data                   {:device-id  (get-in clj-event [\"attributes\" \"deviceNumId\"])\n                                             :image-id   image-hash\n                                             :part-id    idx\n                                             :image-part data}]\n          (p/then (i/upload-image-part upload-data)\n                  (fn [upload-url]\n                    (let [attributes\n                          #js\n                          {\"image_part_url\"  upload-url\n                           \"image_id\"        image-hash\n                           \"image_max_index\" max-idx\n                           \"image_index\"     idx\n                           \"deviceNumId\"     device-num-id\n                           \"subFolder\"       subfolder\n                           \"timestamp\"       (js/Date.now)}])\n                    (.add images-ref attributes)))))\n      ;;; Is metrics\n      (do\n        (let [fs  (fa/firestore)\n              data (.from js/Buffer (aget pubsub-message \"data\") \"base64\")\n              [reg user name value] (s/split data #\"/\")\n              readings-ref          (-> fs (.collection \"readings\"))\n              device-data-promise   (get-device-promise fs\n                                                      (js/parseInt\n                                                       (get-in clj-event [\"attributes\" \"deviceNumId\"])))\n              clean-value (clean-value name (js/parseFloat value))]\n          (-> (p/then (get-initial-state-promise device-data-promise)\n                      (fn [[bucket-key access-key]]\n                        (let [b (is/bucket bucket-key access-key)]\n                          (push-inital-state b name clean-value (.-timestamp event)))))\n              (p/catch (fn [err]\n                         (error err))))\n          (aset attributes \"reading\" clean-value)\n          (aset attributes \"user\" user)\n          (aset attributes \"timestamp\" (.-timestamp  event)))\n          (bq-insert attributes)))))\n\n(defn assemble-images\n  [event context]\n  (i/assemble-images event context))\n","~:reader-features",["^Q",["~:cljs"]],"~:source-map",["^ ","~i14",["^ ","~i0",[["^ ","~:gcol",0,"~:gline",10],["^ ","^1S",3,"^1T",10],["^ ","^1S",11,"^1T",10,"^R","js/data-cleaner"],["^ ","^1S",52,"^1T",10,"^R","js/data-cleaner.core"],["^ ","^1S",98,"^1T",10,"^R","js/data-cleaner.core.app"],["^ ","^1S",0,"^1T",11],["^ ","^1S",0,"^1T",12],["^ ","^1S",0,"^1T",12]],"~i9",[["^ ","^1S",0,"^1T",12,"^R","data-cleaner.core/app"]],"~i13",[["^ ","^1S",24,"^1T",12],["^ ","^1S",75,"^1T",12],["^ ","^1S",176,"^1T",12]],"~i29",[["^ ","^1S",24,"^1T",12,"^R","js/shadow.js.shim.module$firebase_admin"]],"~i49",[["^ ","^1S",91,"^1T",12]],"~i70",[["^ ","^1S",91,"^1T",12]],"~i84",[["^ ","^1S",91,"^1T",12,"^R","js/shadow.js.shim.module$firebase_admin"]]],"~i17",["^ ","~i0",[["^ ","^1S",0,"^1T",14],["^ ","^1S",3,"^1T",14],["^ ","^1S",11,"^1T",14,"^R","js/data-cleaner"],["^ ","^1S",52,"^1T",14,"^R","js/data-cleaner.core"],["^ ","^1S",98,"^1T",14,"^R","js/data-cleaner.core.bq-client"],["^ ","^1S",0,"^1T",15],["^ ","^1S",0,"^1T",16],["^ ","^1S",0,"^1T",16]],"~i9",[["^ ","^1S",0,"^1T",16,"^R","data-cleaner.core/bq-client"]],"~i20",[["^ ","^1S",30,"^1T",16],["^ ","^1S",80,"^1T",16],["^ ","^1S",95,"^1T",16]],"~i25",[["^ ","^1S",35,"^1T",16,"^R","js/shadow.js.shim.module$$google_cloud$bigquery"]]],"~i19",["^ ","~i0",[["^ ","^1S",0,"^1T",18],["^ ","^1S",0,"^1T",18],["^ ","^1S",30,"^1T",18],["^ ","^1S",68,"^1T",18,"^R","var_args"],["^ ","^1S",0,"^1T",19],["^ ","^1S",0,"^1T",19],["^ ","^1S",4,"^1T",19,"^R","G__20875"],["^ ","^1S",15,"^1T",19],["^ ","^1S",15,"^1T",19],["^ ","^1S",0,"^1T",20],["^ ","^1S",0,"^1T",20],["^ ","^1S",8,"^1T",20,"^R","G__20875"],["^ ","^1S",5,"^1T",21],["^ ","^1S",0,"^1T",22],["^ ","^1S",7,"^1T",22,"^R","data-cleaner.core/bq-insert"],["^ ","^1S",65,"^1T",22],["^ ","^1S",66,"^1T",22],["^ ","^1S",76,"^1T",22],["^ ","^1S",82,"^1T",22],["^ ","^1S",83,"^1T",22],["^ ","^1S",93,"^1T",22],["^ ","^1S",99,"^1T",22],["^ ","^1S",100,"^1T",22],["^ ","^1S",110,"^1T",22],["^ ","^1S",5,"^1T",25],["^ ","^1S",0,"^1T",26],["^ ","^1S",7,"^1T",26,"^R","data-cleaner.core/bq-insert"],["^ ","^1S",65,"^1T",26],["^ ","^1S",66,"^1T",26],["^ ","^1S",76,"^1T",26],["^ ","^1S",0,"^1T",30],["^ ","^1S",6,"^1T",30],["^ ","^1S",11,"^1T",30,"^R","js/Error"],["^ ","^1S",17,"^1T",30],["^ ","^1S",18,"^1T",30],["^ ","^1S",80,"^1T",30],["^ ","^1S",80,"^1T",30],["^ ","^1S",0,"^1T",35],["^ ","^1S",0,"^1T",35],["^ ","^1S",60,"^1T",35],["^ ","^1S",0,"^1T",36],["^ ","^1S",0,"^1T",76],["^ ","^1S",0,"^1T",76],["^ ","^1S",60,"^1T",76],["^ ","^1S",0,"^1T",77],["^ ","^1S",0,"^1T",80],["^ ","^1S",0,"^1T",80],["^ ","^1S",54,"^1T",80],["^ ","^1S",0,"^1T",82]],"~i6",[["^ ","^1S",0,"^1T",18,"^R","data-cleaner.core/bq-insert"],["^ ","^1S",0,"^1T",35,"^R","data-cleaner.core/bq-insert"],["^ ","^1S",0,"^1T",76,"^R","data-cleaner.core/bq-insert"],["^ ","^1S",0,"^1T",80,"^R","data-cleaner.core/bq-insert"]]],"^1[",["^ ","~i4",[["^ ","^1S",71,"^1T",35,"^R","dataset"]],"~i12",[["^ ","^1S",79,"^1T",35,"^R","table"]],"~i18",[["^ ","^1S",85,"^1T",35,"^R","data"]]],"~i21",["^ ","~i3",[["^ ","^1S",0,"^1T",36],["^ ","^1S",0,"^1T",36,"^R","taoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10"],["^ ","^1S",58,"^1T",36,"^R","taoensso.timbre/*config*"],["^ ","^1S",93,"^1T",36],["^ ","^1S",146,"^1T",36],["^ ","^1S",166,"^1T",36],["^ ","^1S",171,"^1T",36],["^ ","^1S",174,"^1T",36],["^ ","^1S",220,"^1T",36],["^ ","^1S",273,"^1T",36],["^ ","^1S",278,"^1T",36,"^R","cljs.core/Delay"],["^ ","^1S",294,"^1T",36],["^ ","^1S",0,"^1T",37],["^ ","^1S",0,"^1T",37],["^ ","^1S",90,"^1T",37],["^ ","^1S",3,"^1T",38],["^ ","^1S",10,"^1T",38],["^ ","^1S",15,"^1T",38]]],"~i22",["^ ","~i8",[["^ ","^1S",7,"^1T",40,"^R","data-cleaner.core/bq-client"]]],"~i23",["^ ","~i8",[["^ ","^1S",7,"^1T",40]],"^23",[["^ ","^1S",43,"^1T",40,"^R","dataset"]]],"~i24",["^ ","~i8",[["^ ","^1S",7,"^1T",40]],"~i16",[["^ ","^1S",58,"^1T",40,"^R","table"]]],"^20",["^ ","~i8",[["^ ","^1S",7,"^1T",40]],"^1Z",[["^ ","^1S",72,"^1T",40,"^R","data"]]],"~i26",["^ ","~i8",[["^ ","^1S",7,"^1T",40],["^ ","^1S",83,"^1T",40],["^ ","^1S",0,"^1T",41]],"^28",[["^ ","^1S",0,"^1T",41],["^ ","^1S",7,"^1T",41,"^R","taoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10"],["^ ","^1S",65,"^1T",41,"^R","taoensso.timbre/*config*"],["^ ","^1S",100,"^1T",41],["^ ","^1S",153,"^1T",41],["^ ","^1S",173,"^1T",41],["^ ","^1S",178,"^1T",41],["^ ","^1S",181,"^1T",41],["^ ","^1S",227,"^1T",41],["^ ","^1S",280,"^1T",41],["^ ","^1S",285,"^1T",41,"^R","cljs.core/Delay"],["^ ","^1S",301,"^1T",41],["^ ","^1S",0,"^1T",42],["^ ","^1S",0,"^1T",42],["^ ","^1S",90,"^1T",42],["^ ","^1S",3,"^1T",43],["^ ","^1S",10,"^1T",43],["^ ","^1S",15,"^1T",43]]],"~i27",["^ ","~i8",[["^ ","^1S",0,"^1T",40]],"^28",[["^ ","^1S",10,"^1T",44],["^ ","^1S",0,"^1T",45]],"^24",[["^ ","^1S",21,"^1T",44,"^R","err"]]],"~i28",["^ ","^23",[["^ ","^1S",0,"^1T",45],["^ ","^1S",0,"^1T",45,"^R","taoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10"],["^ ","^1S",58,"^1T",45,"^R","taoensso.timbre/*config*"],["^ ","^1S",93,"^1T",45],["^ ","^1S",148,"^1T",45],["^ ","^1S",168,"^1T",45],["^ ","^1S",173,"^1T",45],["^ ","^1S",176,"^1T",45],["^ ","^1S",222,"^1T",45],["^ ","^1S",275,"^1T",45],["^ ","^1S",280,"^1T",45,"^R","cljs.core/Delay"],["^ ","^1S",296,"^1T",45],["^ ","^1S",0,"^1T",46],["^ ","^1S",0,"^1T",46],["^ ","^1S",90,"^1T",46],["^ ","^1S",3,"^1T",47],["^ ","^1S",10,"^1T",47],["^ ","^1S",15,"^1T",47]],"~i41",[["^ ","^1S",106,"^1T",46,"^R","err"]]],"^1V",["^ ","^23",[["^ ","^1S",0,"^1T",49],["^ ","^1S",4,"^1T",49],["^ ","^1S",4,"^1T",49],["^ ","^1S",4,"^1T",49],["^ ","^1S",8,"^1T",49,"^R","result__19491__auto__"],["^ ","^1S",0,"^1T",50],["^ ","^1S",0,"^1T",50],["^ ","^1S",0,"^1T",50,"^R","taoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10"],["^ ","^1S",58,"^1T",50,"^R","taoensso.timbre/*config*"],["^ ","^1S",93,"^1T",50],["^ ","^1S",149,"^1T",50],["^ ","^1S",169,"^1T",50],["^ ","^1S",174,"^1T",50],["^ ","^1S",177,"^1T",50],["^ ","^1S",223,"^1T",50],["^ ","^1S",276,"^1T",50],["^ ","^1S",281,"^1T",50,"^R","cljs.core/Delay"],["^ ","^1S",297,"^1T",50],["^ ","^1S",0,"^1T",52],["^ ","^1S",0,"^1T",52],["^ ","^1S",90,"^1T",52],["^ ","^1S",105,"^1T",52],["^ ","^1S",168,"^1T",52],["^ ","^1S",183,"^1T",52],["^ ","^1S",240,"^1T",52],["^ ","^1S",295,"^1T",52],["^ ","^1S",306,"^1T",52],["^ ","^1S",311,"^1T",52,"^R","result__19491__auto__"],["^ ","^1S",1,"^1T",54],["^ ","^1S",8,"^1T",54],["^ ","^1S",13,"^1T",54],["^ ","^1S",0,"^1T",56,"^R","result__19491__auto__"],["^ ","^1S",16,"^1T",56],["^ ","^1S",19,"^1T",56],["^ ","^1S",20,"^1T",56,"^R","e20876"],["^ ","^1S",38,"^1T",56,"^R","js/Error"],["^ ","^1S",0,"^1T",57],["^ ","^1S",4,"^1T",57,"^R","e__19453__auto__"],["^ ","^1S",29,"^1T",57,"^R","e20876"],["^ ","^1S",0,"^1T",58],["^ ","^1S",0,"^1T",58],["^ ","^1S",0,"^1T",58],["^ ","^1S",0,"^1T",58,"^R","taoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10"],["^ ","^1S",58,"^1T",58,"^R","taoensso.timbre/*config*"],["^ ","^1S",93,"^1T",58],["^ ","^1S",148,"^1T",58],["^ ","^1S",168,"^1T",58],["^ ","^1S",173,"^1T",58],["^ ","^1S",176,"^1T",58],["^ ","^1S",222,"^1T",58],["^ ","^1S",275,"^1T",58],["^ ","^1S",280,"^1T",58,"^R","cljs.core/Delay"],["^ ","^1S",296,"^1T",58],["^ ","^1S",0,"^1T",60],["^ ","^1S",0,"^1T",60],["^ ","^1S",90,"^1T",60,"^R","e__19453__auto__"],["^ ","^1S",1,"^1T",62],["^ ","^1S",8,"^1T",62],["^ ","^1S",13,"^1T",62],["^ ","^1S",0,"^1T",64],["^ ","^1S",6,"^1T",64,"^R","e__19453__auto__"],["^ ","^1S",0,"^1T",66],["^ ","^1S",0,"^1T",66],["^ ","^1S",6,"^1T",66,"^R","e20876"]],"^26",[["^ ","^1S",38,"^1T",49]],"^27",[["^ ","^1S",38,"^1T",49,"^R","cljs.core.js__GT_clj.cljs$core$IFn$_invoke$arity$1"]],"~i32",[["^ ","^1S",89,"^1T",49],["^ ","^1S",94,"^1T",49]],"~i38",[["^ ","^1S",90,"^1T",49,"^R","err"]]],"~i30",["^ ","^23",[["^ ","^1S",0,"^1T",70],["^ ","^1S",7,"^1T",70,"^R","taoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10"],["^ ","^1S",65,"^1T",70,"^R","taoensso.timbre/*config*"],["^ ","^1S",100,"^1T",70],["^ ","^1S",156,"^1T",70],["^ ","^1S",176,"^1T",70],["^ ","^1S",181,"^1T",70],["^ ","^1S",184,"^1T",70],["^ ","^1S",230,"^1T",70],["^ ","^1S",283,"^1T",70],["^ ","^1S",288,"^1T",70,"^R","cljs.core/Delay"],["^ ","^1S",304,"^1T",70],["^ ","^1S",0,"^1T",71],["^ ","^1S",0,"^1T",71],["^ ","^1S",3,"^1T",72],["^ ","^1S",10,"^1T",72],["^ ","^1S",15,"^1T",72]],"^20",[["^ ","^1S",90,"^1T",71]],"^29",[["^ ","^1S",90,"^1T",71,"^R","cljs.core/js-keys"]],"~i34",[["^ ","^1S",108,"^1T",71,"^R","err"]]],"~i31",["^ ","~i4",[["^ ","^1S",71,"^1T",76,"^R","data"]]],"^2=",["^ ","~i3",[["^ ","^1S",0,"^1T",77],["^ ","^1S",65,"^1T",77],["^ ","^1S",76,"^1T",77]],"~i4",[["^ ","^1S",7,"^1T",77,"^R","data_cleaner.core.bq_insert.cljs$core$IFn$_invoke$arity$3"]],"~i35",[["^ ","^1S",86,"^1T",77,"^R","data"]]],"^2@",["^ ","~i0",[["^ ","^1S",0,"^1T",82],["^ ","^1S",38,"^1T",82],["^ ","^1S",0,"^1T",83]],"~i6",[["^ ","^1S",0,"^1T",82,"^R","data-cleaner.core/push-inital-state"]],"^20",[["^ ","^1S",84,"^1T",82,"^R","bucket"]],"^2=",[["^ ","^1S",91,"^1T",82,"^R","reading"]],"~i40",[["^ ","^1S",99,"^1T",82,"^R","value"]],"~i46",[["^ ","^1S",105,"^1T",82,"^R","timestamp"]]],"^2B",["^ ","~i2",[["^ ","^1S",0,"^1T",83]],"~i9",[["^ ","^1S",7,"^1T",83,"^R","bucket"]],"^28",[["^ ","^1S",19,"^1T",83,"^R","reading"]],"^27",[["^ ","^1S",27,"^1T",83,"^R","value"]],"^2?",[["^ ","^1S",33,"^1T",83,"^R","timestamp"]]],"~i37",["^ ","~i0",[["^ ","^1S",0,"^1T",85],["^ ","^1S",39,"^1T",85],["^ ","^1S",0,"^1T",86]],"~i6",[["^ ","^1S",0,"^1T",85,"^R","data-cleaner.core/offset-temp-factor"]],"^29",[["^ ","^1S",86,"^1T",85,"^R","m"]],"^2;",[["^ ","^1S",88,"^1T",85,"^R","b"]],"^2?",[["^ ","^1S",90,"^1T",85,"^R","temp"]]],"~i39",["^ ","~i2",[["^ ","^1S",0,"^1T",86]],"~i5",[["^ ","^1S",8,"^1T",86,"^R","temp"]],"~i10",[["^ ","^1S",15,"^1T",86]],"^1U",[["^ ","^1S",16,"^1T",86]],"^28",[["^ ","^1S",17,"^1T",86,"^R","m"]],"^23",[["^ ","^1S",21,"^1T",86,"^R","temp"]],"^27",[["^ ","^1S",29,"^1T",86,"^R","b"]]],"^2<",["^ ","~i0",[["^ ","^1S",0,"^1T",88],["^ ","^1S",33,"^1T",88],["^ ","^1S",0,"^1T",89]],"~i6",[["^ ","^1S",0,"^1T",88,"^R","data-cleaner.core/cleanup-temp"]],"^1[",[["^ ","^1S",74,"^1T",88,"^R","value"]]],"~i42",["^ ","~i2",[["^ ","^1S",0,"^1T",89],["^ ","^1S",0,"^1T",90]],"~i8",[["^ ","^1S",4,"^1T",89,"^R","adjust"]],"~i15",[["^ ","^1S",13,"^1T",89],["^ ","^1S",98,"^1T",89],["^ ","^1S",102,"^1T",89]],"^28",[["^ ","^1S",13,"^1T",89,"^R","cljs.core.partial.cljs$core$IFn$_invoke$arity$3"]],"^27",[["^ ","^1S",61,"^1T",89,"^R","data-cleaner.core/offset-temp-factor"]]],"~i43",["^ ","~i4",[["^ ","^1S",0,"^1T",90]],"~i5",[["^ ","^1S",7,"^1T",90,"^R","js/Math.round"]],"^21",[["^ ","^1S",18,"^1T",90],["^ ","^1S",35,"^1T",90,"^R","G__20880"],["^ ","^1S",0,"^1T",91],["^ ","^1S",0,"^1T",91],["^ ","^1S",84,"^1T",91,"^R","G__20880"],["^ ","^1S",113,"^1T",91,"^R","G__20880"]],"^1[",[["^ ","^1S",8,"^1T",91,"^R","adjust"],["^ ","^1S",47,"^1T",91,"^R","adjust"],["^ ","^1S",96,"^1T",91,"^R","adjust"]],"^2:",[["^ ","^1S",46,"^1T",90],["^ ","^1S",71,"^1T",90]],"^2?",[["^ ","^1S",47,"^1T",90]],"~i33",[["^ ","^1S",48,"^1T",90,"^R","value"]],"^2F",[["^ ","^1S",56,"^1T",90],["^ ","^1S",57,"^1T",90],["^ ","^1S",63,"^1T",90]]],"~i45",["^ ","~i0",[["^ ","^1S",0,"^1T",94],["^ ","^1S",37,"^1T",94],["^ ","^1S",0,"^1T",95]],"~i6",[["^ ","^1S",0,"^1T",94,"^R","data-cleaner.core/cleanup-humidity"]],"^20",[["^ ","^1S",82,"^1T",94,"^R","value"]]],"^2D",["^ ","~i2",[["^ ","^1S",0,"^1T",95]],"~i3",[["^ ","^1S",7,"^1T",95,"^R","js/Math.round"]],"^1Z",[["^ ","^1S",18,"^1T",95,"^R","value"]]],"^1W",["^ ","~i0",[["^ ","^1S",0,"^1T",97],["^ ","^1S",32,"^1T",97],["^ ","^1S",0,"^1T",98]],"~i6",[["^ ","^1S",0,"^1T",97,"^R","data-cleaner.core/clean-value"]],"^21",[["^ ","^1S",72,"^1T",97,"^R","name"]],"^27",[["^ ","^1S",77,"^1T",97,"^R","value"]]],"~i50",["^ ","~i2",[["^ ","^1S",0,"^1T",98],["^ ","^1S",0,"^1T",101],["^ ","^1S",0,"^1T",104]],"~i8",[["^ ","^1S",3,"^1T",98],["^ ","^1S",39,"^1T",98]],"~i9",[["^ ","^1S",3,"^1T",98,"^R","clojure.string/includes?"]],"^24",[["^ ","^1S",34,"^1T",98,"^R","name"]],"^2@",[["^ ","^1S",0,"^1T",99]],"^2B",[["^ ","^1S",7,"^1T",99,"^R","data-cleaner.core/cleanup-temp"]],"~i48",[["^ ","^1S",38,"^1T",99,"^R","value"]]],"~i51",["^ ","~i8",[["^ ","^1S",3,"^1T",101],["^ ","^1S",39,"^1T",101]],"~i9",[["^ ","^1S",3,"^1T",101,"^R","clojure.string/includes?"]],"^24",[["^ ","^1S",34,"^1T",101,"^R","name"]],"^2>",[["^ ","^1S",0,"^1T",102]],"^2F",[["^ ","^1S",7,"^1T",102,"^R","data-cleaner.core/cleanup-humidity"]],"~i56",[["^ ","^1S",42,"^1T",102,"^R","value"]]],"~i52",["^ ","^1R",[["^ ","^1S",0,"^1T",104,"^R","value"]]],"~i55",["^ ","~i0",[["^ ","^1S",0,"^1T",109],["^ ","^1S",33,"^1T",109],["^ ","^1S",76,"^1T",109],["^ ","^1S",84,"^1T",109],["^ ","^1S",137,"^1T",109],["^ ","^1S",150,"^1T",109],["^ ","^1S",193,"^1T",109],["^ ","^1S",204,"^1T",109],["^ ","^1S",218,"^1T",109],["^ ","^1S",232,"^1T",109],["^ ","^1S",251,"^1T",109],["^ ","^1S",270,"^1T",109],["^ ","^1S",278,"^1T",109],["^ ","^1S",303,"^1T",109],["^ ","^1S",317,"^1T",109],["^ ","^1S",329,"^1T",109],["^ ","^1S",340,"^1T",109],["^ ","^1S",352,"^1T",109],["^ ","^1S",385,"^1T",109],["^ ","^1S",392,"^1T",109]],"~i5",[["^ ","^1S",0,"^1T",109,"^R","data-cleaner.core/example-data"]]],"~i66",["^ ","~i0",[["^ ","^1S",0,"^1T",110]]],"~i77",["^ ","~i0",[["^ ","^1S",0,"^1T",110],["^ ","^1S",39,"^1T",110],["^ ","^1S",0,"^1T",111]],"~i6",[["^ ","^1S",0,"^1T",110,"^R","data-cleaner.core/get-device-promise"]]],"~i78",["^ ","~i3",[["^ ","^1S",86,"^1T",110,"^R","fs"]],"~i6",[["^ ","^1S",89,"^1T",110,"^R","num-id"]]],"~i79",["^ ","~i2",[["^ ","^1S",0,"^1T",111],["^ ","^1S",0,"^1T",111,"^R","taoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10"],["^ ","^1S",58,"^1T",111,"^R","taoensso.timbre/*config*"],["^ ","^1S",93,"^1T",111],["^ ","^1S",146,"^1T",111],["^ ","^1S",166,"^1T",111],["^ ","^1S",171,"^1T",111],["^ ","^1S",174,"^1T",111],["^ ","^1S",220,"^1T",111],["^ ","^1S",273,"^1T",111],["^ ","^1S",278,"^1T",111,"^R","cljs.core/Delay"],["^ ","^1S",294,"^1T",111],["^ ","^1S",0,"^1T",112],["^ ","^1S",0,"^1T",112],["^ ","^1S",3,"^1T",113],["^ ","^1S",10,"^1T",113],["^ ","^1S",15,"^1T",113]],"~i8",[["^ ","^1S",90,"^1T",112,"^R","num-id"]]],"~i80",["^ ","~i2",[["^ ","^1S",0,"^1T",115],["^ ","^1S",0,"^1T",125]],"~i8",[["^ ","^1S",4,"^1T",115,"^R","device-info"]],"^27",[["^ ","^1S",18,"^1T",115,"^R","fs"]]],"~i81",["^ ","^27",[["^ ","^1S",18,"^1T",115],["^ ","^1S",32,"^1T",115]]],"~i82",["^ ","^27",[["^ ","^1S",18,"^1T",115],["^ ","^1S",49,"^1T",115],["^ ","^1S",63,"^1T",115]],"^2O",[["^ ","^1S",68,"^1T",115,"^R","num-id"]]],"~i83",["^ ","^27",[["^ ","^1S",18,"^1T",115],["^ ","^1S",82,"^1T",115]]],"^1Y",["^ ","^27",[["^ ","^1S",18,"^1T",115]]],"~i85",["^ ","~i8",[["^ ","^1S",4,"^1T",116,"^R","device-data"]]],"~i86",["^ ","~i8",[["^ ","^1S",18,"^1T",116]],"~i9",[["^ ","^1S",18,"^1T",116,"^R","promesa.core/then"]],"^28",[["^ ","^1S",36,"^1T",116,"^R","device-info"]]],"~i87",["^ ","^28",[["^ ","^1S",48,"^1T",116],["^ ","^1S",0,"^1T",118]],"^24",[["^ ","^1S",18,"^1T",117,"^R","devices"]]],"~i88",["^ ","^23",[["^ ","^1S",0,"^1T",118]],"^21",[["^ ","^1S",7,"^1T",118,"^R","cljs.core/first"]],"^20",[["^ ","^1S",23,"^1T",118]],"^29",[["^ ","^1S",23,"^1T",118,"^R","cljs.core.js__GT_clj.cljs$core$IFn$_invoke$arity$1"]]],"~i89",["^ ","^29",[["^ ","^1S",74,"^1T",118],["^ ","^1S",119,"^1T",118]],"^2:",[["^ ","^1S",74,"^1T",118,"^R","cljs.core.into.cljs$core$IFn$_invoke$arity$2"]]],"~i90",["^ ","^2=",[["^ ","^1S",152,"^1T",118],["^ ","^1S",196,"^1T",118],["^ ","^1S",18,"^1T",119,"^R","p1__20881#"],["^ ","^1S",0,"^1T",120]],"^2K",[["^ ","^1S",152,"^1T",118,"^R","cljs.core.map.cljs$core$IFn$_invoke$arity$2"]]],"~i91",["^ ","^2@",[["^ ","^1S",0,"^1T",120],["^ ","^1S",7,"^1T",120,"^R","p1__20881#"]]],"~i92",["^ ","^2K",[["^ ","^1S",1,"^1T",122]],"^2J",[["^ ","^1S",1,"^1T",122,"^R","devices"]]],"~i93",["^ ","~i4",[["^ ","^1S",0,"^1T",125,"^R","device-data"]]],"~i95",["^ ","~i0",[["^ ","^1S",0,"^1T",127],["^ ","^1S",46,"^1T",127],["^ ","^1S",0,"^1T",128]],"~i6",[["^ ","^1S",0,"^1T",127,"^R","data-cleaner.core/get-initial-state-promise"]]],"~i96",["^ ","~i3",[["^ ","^1S",100,"^1T",127,"^R","device-promise"]]],"~i97",["^ ","~i2",[["^ ","^1S",0,"^1T",128]],"~i3",[["^ ","^1S",7,"^1T",128,"^R","promesa.core/then"]],"^2G",[["^ ","^1S",25,"^1T",128,"^R","device-promise"]]],"~i98",["^ ","^2G",[["^ ","^1S",40,"^1T",128],["^ ","^1S",0,"^1T",129]],"^2I",[["^ ","^1S",51,"^1T",128,"^R","device"]]],"~i99",["^ ","^22",[["^ ","^1S",0,"^1T",129],["^ ","^1S",0,"^1T",131],["^ ","^1S",0,"^1T",131]],"^23",[["^ ","^1S",4,"^1T",129,"^R","bucket-key"]],"^1V",[["^ ","^1S",17,"^1T",129],["^ ","^1S",68,"^1T",129]],"^2?",[["^ ","^1S",17,"^1T",129,"^R","cljs.core.get.cljs$core$IFn$_invoke$arity$2"]],"^2@",[["^ ","^1S",61,"^1T",129,"^R","device"]]],"~i100",["^ ","^23",[["^ ","^1S",4,"^1T",130,"^R","access-key"]],"^1V",[["^ ","^1S",17,"^1T",130],["^ ","^1S",68,"^1T",130]],"^2?",[["^ ","^1S",17,"^1T",130,"^R","cljs.core.get.cljs$core$IFn$_invoke$arity$2"]],"^2@",[["^ ","^1S",61,"^1T",130,"^R","device"]]],"~i101",["^ ","^2I",[["^ ","^1S",90,"^1T",131,"^R","bucket-key"]],"^29",[["^ ","^1S",101,"^1T",131,"^R","access-key"]]],"~i103",["^ ","~i0",[["^ ","^1S",0,"^1T",134],["^ ","^1S",30,"^1T",150],["^ ","^1S",0,"^1T",151]],"~i6",[["^ ","^1S",0,"^1T",150,"^R","data-cleaner.core/subscribe"]]],"~i118",["^ ","~i3",[["^ ","^1S",68,"^1T",150,"^R","event"]],"~i9",[["^ ","^1S",74,"^1T",150,"^R","context"]]],"~i119",["^ ","~i2",[["^ ","^1S",0,"^1T",151],["^ ","^1S",0,"^1T",157]],"~i8",[["^ ","^1S",4,"^1T",151,"^R","pubsub-message"]],"^27",[["^ ","^1S",21,"^1T",151,"^R","event"]]],"~i120",["^ ","~i8",[["^ ","^1S",4,"^1T",152,"^R","clj-event"]],"^27",[["^ ","^1S",16,"^1T",152]],"^20",[["^ ","^1S",16,"^1T",152,"^R","cljs.core.js__GT_clj.cljs$core$IFn$_invoke$arity$1"]],"^2K",[["^ ","^1S",67,"^1T",152,"^R","event"]]],"~i121",["^ ","~i8",[["^ ","^1S",4,"^1T",153,"^R","attributes"]],"^27",[["^ ","^1S",17,"^1T",153],["^ ","^1S",24,"^1T",153]],"^2?",[["^ ","^1S",18,"^1T",153,"^R","event"]]],"~i122",["^ ","~i8",[["^ ","^1S",4,"^1T",154,"^R","subfolder"]],"^27",[["^ ","^1S",16,"^1T",154],["^ ","^1S",73,"^1T",154],["^ ","^1S",156,"^1T",154],["^ ","^1S",169,"^1T",154]],"^20",[["^ ","^1S",16,"^1T",154,"^R","cljs.core.get_in.cljs$core$IFn$_invoke$arity$2"]],"^2=",[["^ ","^1S",63,"^1T",154,"^R","clj-event"]]],"~i123",["^ ","~i8",[["^ ","^1S",4,"^1T",155,"^R","device-num-id"]],"^27",[["^ ","^1S",20,"^1T",155],["^ ","^1S",77,"^1T",155],["^ ","^1S",160,"^1T",155],["^ ","^1S",173,"^1T",155]],"^20",[["^ ","^1S",20,"^1T",155,"^R","cljs.core.get_in.cljs$core$IFn$_invoke$arity$2"]],"^2=",[["^ ","^1S",67,"^1T",155,"^R","clj-event"]]],"~i124",["^ ","~i8",[["^ ","^1S",4,"^1T",156,"^R","subparts"]],"^27",[["^ ","^1S",15,"^1T",156],["^ ","^1S",76,"^1T",156]],"^20",[["^ ","^1S",15,"^1T",156,"^R","clojure.string.split.cljs$core$IFn$_invoke$arity$2"]],"^2K",[["^ ","^1S",66,"^1T",156,"^R","subfolder"]]],"~i125",["^ ","~i4",[["^ ","^1S",0,"^1T",157],["^ ","^1S",0,"^1T",157,"^R","taoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10"],["^ ","^1S",58,"^1T",157,"^R","taoensso.timbre/*config*"],["^ ","^1S",93,"^1T",157],["^ ","^1S",146,"^1T",157],["^ ","^1S",166,"^1T",157],["^ ","^1S",171,"^1T",157],["^ ","^1S",175,"^1T",157],["^ ","^1S",221,"^1T",157],["^ ","^1S",274,"^1T",157],["^ ","^1S",279,"^1T",157,"^R","cljs.core/Delay"],["^ ","^1S",295,"^1T",157],["^ ","^1S",0,"^1T",159],["^ ","^1S",0,"^1T",159],["^ ","^1S",1,"^1T",161],["^ ","^1S",8,"^1T",161],["^ ","^1S",13,"^1T",161]],"^2G",[["^ ","^1S",90,"^1T",159,"^R","subparts"]]],"~i126",["^ ","~i4",[["^ ","^1S",0,"^1T",163]],"~i8",[["^ ","^1S",3,"^1T",163],["^ ","^1S",74,"^1T",163]],"~i9",[["^ ","^1S",3,"^1T",163,"^R","cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2"]],"~i11",[["^ ","^1S",48,"^1T",163]],"^22",[["^ ","^1S",48,"^1T",163,"^R","cljs.core/first"]],"^23",[["^ ","^1S",64,"^1T",163,"^R","subparts"]]],"~i128",["^ ","~i6",[["^ ","^1S",0,"^1T",164]]],"~i129",["^ ","~i8",[["^ ","^1S",0,"^1T",164],["^ ","^1S",4,"^1T",165,"^R","vec__20882"],["^ ","^1S",11,"^1T",166],["^ ","^1S",11,"^1T",166,"^R","cljs.core.nth.cljs$core$IFn$_invoke$arity$3"],["^ ","^1S",55,"^1T",166,"^R","vec__20882"],["^ ","^1S",66,"^1T",166],["^ ","^1S",70,"^1T",166],["^ ","^1S",17,"^1T",167],["^ ","^1S",17,"^1T",167,"^R","cljs.core.nth.cljs$core$IFn$_invoke$arity$3"],["^ ","^1S",61,"^1T",167,"^R","vec__20882"],["^ ","^1S",72,"^1T",167],["^ ","^1S",76,"^1T",167],["^ ","^1S",14,"^1T",168],["^ ","^1S",14,"^1T",168,"^R","cljs.core.nth.cljs$core$IFn$_invoke$arity$3"],["^ ","^1S",58,"^1T",168,"^R","vec__20882"],["^ ","^1S",69,"^1T",168],["^ ","^1S",73,"^1T",168],["^ ","^1S",10,"^1T",169],["^ ","^1S",10,"^1T",169,"^R","cljs.core.nth.cljs$core$IFn$_invoke$arity$3"],["^ ","^1S",54,"^1T",169,"^R","vec__20882"],["^ ","^1S",65,"^1T",169],["^ ","^1S",69,"^1T",169],["^ ","^1S",18,"^1T",172],["^ ","^1S",61,"^1T",172],["^ ","^1S",300,"^1T",172],["^ ","^1S",372,"^1T",172],["^ ","^1S",435,"^1T",172],["^ ","^1S",0,"^1T",173]],"^1R",[["^ ","^1S",4,"^1T",164,"^R","fs"]],"~i44",[["^ ","^1S",9,"^1T",164]],"^2L",[["^ ","^1S",9,"^1T",164,"^R","js/shadow.js.shim.module$firebase_admin.firestore"]]],"~i130",["^ ","^2I",[["^ ","^1S",4,"^1T",166,"^R","kind"]],"^1[",[["^ ","^1S",4,"^1T",167,"^R","image-hash"]],"^2A",[["^ ","^1S",4,"^1T",168,"^R","max-idx"]],"^2F",[["^ ","^1S",4,"^1T",169,"^R","idx"]],"^3L",[["^ ","^1S",17,"^1T",165,"^R","subparts"]]],"~i131",["^ ","^1R",[["^ ","^1S",4,"^1T",170,"^R","data"]],"^3L",[["^ ","^1S",11,"^1T",170],["^ ","^1S",65,"^1T",170]],"^2L",[["^ ","^1S",11,"^1T",170,"^R","cljs.core.get.cljs$core$IFn$_invoke$arity$2"]],"^1W",[["^ ","^1S",55,"^1T",170,"^R","clj-event"]]],"~i132",["^ ","^1R",[["^ ","^1S",4,"^1T",171,"^R","images-ref"]],"^2N",[["^ ","^1S",17,"^1T",171,"^R","fs"]],"^2O",[["^ ","^1S",17,"^1T",171],["^ ","^1S",31,"^1T",171]]],"~i134",["^ ","^1R",[["^ ","^1S",4,"^1T",172,"^R","upload-data"]],"~i57",[["^ ","^1S",124,"^1T",172],["^ ","^1S",181,"^1T",172],["^ ","^1S",264,"^1T",172],["^ ","^1S",277,"^1T",172]],"~i58",[["^ ","^1S",124,"^1T",172,"^R","cljs.core.get_in.cljs$core$IFn$_invoke$arity$2"]],"~i65",[["^ ","^1S",171,"^1T",172,"^R","clj-event"]]],"~i135",["^ ","^3Q",[["^ ","^1S",361,"^1T",172,"^R","image-hash"]]],"~i136",["^ ","^3Q",[["^ ","^1S",431,"^1T",172,"^R","idx"]]],"~i137",["^ ","^3Q",[["^ ","^1S",500,"^1T",172,"^R","data"]]],"~i138",["^ ","^2G",[["^ ","^1S",0,"^1T",173]],"^3I",[["^ ","^1S",7,"^1T",173,"^R","promesa.core/then"]],"^23",[["^ ","^1S",25,"^1T",173]],"^21",[["^ ","^1S",25,"^1T",173,"^R","data-cleaner.images/upload-image-part"]],"^2F",[["^ ","^1S",63,"^1T",173,"^R","upload-data"]]],"~i139",["^ ","^23",[["^ ","^1S",76,"^1T",173],["^ ","^1S",0,"^1T",175]],"^26",[["^ ","^1S",18,"^1T",174,"^R","upload-url"]]],"~i140",["^ ","^1[",[["^ ","^1S",0,"^1T",175],["^ ","^1S",27,"^1T",175],["^ ","^1S",0,"^1T",176],["^ ","^1S",0,"^1T",176]],"^29",[["^ ","^1S",4,"^1T",175,"^R","attributes"]]],"~i142",["^ ","^2L",[["^ ","^1S",47,"^1T",175,"^R","upload-url"]]],"~i143",["^ ","^2L",[["^ ","^1S",71,"^1T",175,"^R","image-hash"]]],"~i144",["^ ","^2L",[["^ ","^1S",102,"^1T",175,"^R","max-idx"]]],"~i145",["^ ","^2L",[["^ ","^1S",126,"^1T",175,"^R","idx"]]],"~i146",["^ ","^2L",[["^ ","^1S",146,"^1T",175,"^R","device-num-id"]]],"~i147",["^ ","^2L",[["^ ","^1S",174,"^1T",175,"^R","subfolder"]]],"~i148",["^ ","^2L",[["^ ","^1S",198,"^1T",175]],"^2D",[["^ ","^1S",198,"^1T",175,"^R","js/Date.now"]]],"~i149",["^ ","^1[",[["^ ","^1S",0,"^1T",177]],"^29",[["^ ","^1S",7,"^1T",177,"^R","images-ref"]],"^2E",[["^ ","^1S",22,"^1T",177,"^R","attributes"]]],"~i151",["^ ","~i6",[["^ ","^1S",0,"^1T",181]]],"~i152",["^ ","~i8",[["^ ","^1S",0,"^1T",181],["^ ","^1S",4,"^1T",183,"^R","vec__20885"],["^ ","^1S",16,"^1T",184],["^ ","^1S",16,"^1T",184,"^R","cljs.core.nth.cljs$core$IFn$_invoke$arity$3"],["^ ","^1S",60,"^1T",184,"^R","vec__20885"],["^ ","^1S",77,"^1T",184],["^ ","^1S",81,"^1T",184],["^ ","^1S",17,"^1T",185],["^ ","^1S",17,"^1T",185,"^R","cljs.core.nth.cljs$core$IFn$_invoke$arity$3"],["^ ","^1S",61,"^1T",185,"^R","vec__20885"],["^ ","^1S",78,"^1T",185],["^ ","^1S",82,"^1T",185],["^ ","^1S",17,"^1T",186],["^ ","^1S",17,"^1T",186,"^R","cljs.core.nth.cljs$core$IFn$_invoke$arity$3"],["^ ","^1S",61,"^1T",186,"^R","vec__20885"],["^ ","^1S",78,"^1T",186],["^ ","^1S",82,"^1T",186],["^ ","^1S",18,"^1T",187],["^ ","^1S",18,"^1T",187,"^R","cljs.core.nth.cljs$core$IFn$_invoke$arity$3"],["^ ","^1S",62,"^1T",187,"^R","vec__20885"],["^ ","^1S",79,"^1T",187],["^ ","^1S",83,"^1T",187],["^ ","^1S",0,"^1T",191]],"^1R",[["^ ","^1S",4,"^1T",181,"^R","fs"]],"^23",[["^ ","^1S",15,"^1T",181]],"^21",[["^ ","^1S",15,"^1T",181,"^R","js/shadow.js.shim.module$firebase_admin.firestore"]]],"~i153",["^ ","^1R",[["^ ","^1S",4,"^1T",182,"^R","data"]],"^21",[["^ ","^1S",17,"^1T",182],["^ ","^1S",54,"^1T",182]],"^29",[["^ ","^1S",17,"^1T",182,"^R","js/Buffer"]],"~i36",[["^ ","^1S",29,"^1T",182],["^ ","^1S",45,"^1T",182]],"^2H",[["^ ","^1S",30,"^1T",182,"^R","pubsub-message"]]],"~i154",["^ ","^2I",[["^ ","^1S",4,"^1T",184,"^R","reg"]],"^21",[["^ ","^1S",4,"^1T",185,"^R","user"]],"^27",[["^ ","^1S",4,"^1T",186,"^R","name"]],"^1V",[["^ ","^1S",4,"^1T",187,"^R","value"]],"^49",[["^ ","^1S",23,"^1T",183],["^ ","^1S",85,"^1T",183]],"^2E",[["^ ","^1S",23,"^1T",183,"^R","clojure.string.split.cljs$core$IFn$_invoke$arity$2"]],"^2L",[["^ ","^1S",74,"^1T",183,"^R","data"]]],"~i155",["^ ","^1R",[["^ ","^1S",4,"^1T",188,"^R","readings-ref"]],"^2C",[["^ ","^1S",25,"^1T",188,"^R","fs"]],"^2J",[["^ ","^1S",25,"^1T",188],["^ ","^1S",45,"^1T",188]]],"~i156",["^ ","^1R",[["^ ","^1S",4,"^1T",189,"^R","device-data-promise"]],"^49",[["^ ","^1S",32,"^1T",189]],"^2E",[["^ ","^1S",32,"^1T",189,"^R","data-cleaner.core/get-device-promise"]],"^2P",[["^ ","^1S",69,"^1T",189,"^R","fs"]]],"~i157",["^ ","~i54",[["^ ","^1S",78,"^1T",189]],"^2R",[["^ ","^1S",78,"^1T",189,"^R","js/parseInt"]]],"~i158",["^ ","^2R",[["^ ","^1S",87,"^1T",189],["^ ","^1S",144,"^1T",189],["^ ","^1S",227,"^1T",189],["^ ","^1S",240,"^1T",189]],"^2P",[["^ ","^1S",87,"^1T",189,"^R","cljs.core.get_in.cljs$core$IFn$_invoke$arity$2"]],"~i63",[["^ ","^1S",134,"^1T",189,"^R","clj-event"]]],"~i159",["^ ","^1R",[["^ ","^1S",4,"^1T",190,"^R","clean-value"]],"^29",[["^ ","^1S",24,"^1T",190]],"^2:",[["^ ","^1S",24,"^1T",190,"^R","data-cleaner.core/clean-value"]],"^2F",[["^ ","^1S",54,"^1T",190,"^R","name"]],"^3L",[["^ ","^1S",65,"^1T",190]],"^2L",[["^ ","^1S",65,"^1T",190,"^R","js/parseFloat"]],"~i59",[["^ ","^1S",76,"^1T",190,"^R","value"]]],"~i160",["^ ","^1R",[["^ ","^1S",50,"^1T",191]],"^2I",[["^ ","^1S",50,"^1T",191,"^R","promesa.core/then"]],"^25",[["^ ","^1S",68,"^1T",191]],"^26",[["^ ","^1S",68,"^1T",191,"^R","data-cleaner.core/get-initial-state-promise"]],"^1W",[["^ ","^1S",112,"^1T",191,"^R","device-data-promise"]]],"~i161",["^ ","^25",[["^ ","^1S",139,"^1T",191],["^ ","^1S",18,"^1T",192,"^R","p__20888"],["^ ","^1S",0,"^1T",193],["^ ","^1S",0,"^1T",193],["^ ","^1S",4,"^1T",193,"^R","vec__20889"],["^ ","^1S",17,"^1T",193,"^R","p__20888"],["^ ","^1S",17,"^1T",194],["^ ","^1S",17,"^1T",194,"^R","cljs.core.nth.cljs$core$IFn$_invoke$arity$3"],["^ ","^1S",61,"^1T",194,"^R","vec__20889"],["^ ","^1S",72,"^1T",194],["^ ","^1S",76,"^1T",194],["^ ","^1S",17,"^1T",195],["^ ","^1S",17,"^1T",195,"^R","cljs.core.nth.cljs$core$IFn$_invoke$arity$3"],["^ ","^1S",61,"^1T",195,"^R","vec__20889"],["^ ","^1S",72,"^1T",195],["^ ","^1S",76,"^1T",195],["^ ","^1S",0,"^1T",196]],"^2;",[["^ ","^1S",4,"^1T",194,"^R","bucket-key"]],"^2F",[["^ ","^1S",4,"^1T",195,"^R","access-key"]]],"~i162",["^ ","^27",[["^ ","^1S",0,"^1T",196],["^ ","^1S",0,"^1T",197]],"^2?",[["^ ","^1S",4,"^1T",196,"^R","b"]],"^2=",[["^ ","^1S",8,"^1T",196]],"^2K",[["^ ","^1S",8,"^1T",196,"^R","js/shadow.js.shim.module$initial_state.bucket"]],"^2J",[["^ ","^1S",51,"^1T",196,"^R","bucket-key"]],"^4>",[["^ ","^1S",62,"^1T",196,"^R","access-key"]]],"~i163",["^ ","^29",[["^ ","^1S",0,"^1T",197]],"^2:",[["^ ","^1S",7,"^1T",197,"^R","data-cleaner.core/push-inital-state"]],"^2L",[["^ ","^1S",43,"^1T",197,"^R","b"]],"~i47",[["^ ","^1S",45,"^1T",197,"^R","name"]],"^2Q",[["^ ","^1S",56,"^1T",197,"^R","clean-value"]],"~i64",[["^ ","^1S",74,"^1T",197]],"^2T",[["^ ","^1S",74,"^1T",197,"^R","event"]]],"~i164",["^ ","^1R",[["^ ","^1S",0,"^1T",191]],"^2I",[["^ ","^1S",0,"^1T",191,"^R","promesa.core.catch$.cljs$core$IFn$_invoke$arity$2"]],"^26",[["^ ","^1S",2,"^1T",199],["^ ","^1S",0,"^1T",201]],"^2;",[["^ ","^1S",18,"^1T",200,"^R","err"]]],"~i165",["^ ","^20",[["^ ","^1S",0,"^1T",201],["^ ","^1S",7,"^1T",201,"^R","taoensso.timbre._log_BANG_.cljs$core$IFn$_invoke$arity$10"],["^ ","^1S",65,"^1T",201,"^R","taoensso.timbre/*config*"],["^ ","^1S",100,"^1T",201],["^ ","^1S",155,"^1T",201],["^ ","^1S",175,"^1T",201],["^ ","^1S",180,"^1T",201],["^ ","^1S",184,"^1T",201],["^ ","^1S",230,"^1T",201],["^ ","^1S",283,"^1T",201],["^ ","^1S",288,"^1T",201,"^R","cljs.core/Delay"],["^ ","^1S",304,"^1T",201],["^ ","^1S",0,"^1T",203],["^ ","^1S",0,"^1T",203],["^ ","^1S",1,"^1T",205],["^ ","^1S",8,"^1T",205],["^ ","^1S",13,"^1T",205]],"^2=",[["^ ","^1S",90,"^1T",203,"^R","err"]]],"~i166",["^ ","^2G",[["^ ","^1S",0,"^1T",209],["^ ","^1S",12,"^1T",209]],"^28",[["^ ","^1S",1,"^1T",209,"^R","attributes"]],"^2E",[["^ ","^1S",25,"^1T",209,"^R","clean-value"]]],"~i167",["^ ","^2G",[["^ ","^1S",0,"^1T",211],["^ ","^1S",12,"^1T",211]],"^28",[["^ ","^1S",1,"^1T",211,"^R","attributes"]],"^2@",[["^ ","^1S",22,"^1T",211,"^R","user"]]],"~i168",["^ ","^2G",[["^ ","^1S",0,"^1T",213],["^ ","^1S",12,"^1T",213]],"^28",[["^ ","^1S",1,"^1T",213,"^R","attributes"]],"^2F",[["^ ","^1S",27,"^1T",213]],"~i53",[["^ ","^1S",27,"^1T",213,"^R","event"]]],"~i169",["^ ","^2G",[["^ ","^1S",0,"^1T",215]],"^3I",[["^ ","^1S",7,"^1T",215,"^R","data_cleaner.core.bq_insert.cljs$core$IFn$_invoke$arity$1"]],"^24",[["^ ","^1S",65,"^1T",215,"^R","attributes"]]],"~i171",["^ ","~i0",[["^ ","^1S",0,"^1T",218],["^ ","^1S",36,"^1T",218],["^ ","^1S",0,"^1T",219]],"~i6",[["^ ","^1S",0,"^1T",218,"^R","data-cleaner.core/assemble-images"]]],"~i172",["^ ","~i3",[["^ ","^1S",80,"^1T",218,"^R","event"]],"~i9",[["^ ","^1S",86,"^1T",218,"^R","context"]]],"~i173",["^ ","~i2",[["^ ","^1S",0,"^1T",219]],"~i3",[["^ ","^1S",7,"^1T",219,"^R","data-cleaner.images/assemble-images"]],"^24",[["^ ","^1S",43,"^1T",219,"^R","event"]],"^2:",[["^ ","^1S",49,"^1T",219,"^R","context"]]]],"~:cljc",false],"~:cache-keys",["~#cmap",[["^1J","goog/dom/tagname.js"],[1530991559994,"^19","~$goog.dom.HtmlElement"],["^1J","goog/async/freelist.js"],[1530991559994,"^19"],["^1J","cljs/core/async/impl/ioc_helpers.cljs"],[1534380136417,"^19","^18","~$cljs.core.async.impl.protocols"],["^1J","goog/labs/useragent/platform.js"],[1530991559994,"^19","~$goog.labs.userAgent.util","~$goog.string"],["~:macro","^18"],[1534380137000],["^1J","goog/crypt/crypt.js"],[1530991559994,"^19","~$goog.array","~$goog.asserts"],["^1J","cljs/core/async.cljs"],[1534380136417,"^19","^18","^4W","~$cljs.core.async.impl.channels","~$cljs.core.async.impl.buffers","~$cljs.core.async.impl.timers","~$cljs.core.async.impl.dispatch","~$cljs.core.async.impl.ioc-helpers"],["^1J","goog/timer/timer.js"],[1530991559994,"^19","~$goog.Promise","~$goog.events.EventTarget"],["^1J","cljs/spec/gen/alpha.cljs"],[1534380137690,"^19","^18","~$goog.Uri"],["^1J","cljs/tools/reader/impl/utils.cljs"],[1535746854877,"^19","^18","^1;","^4Y"],["^1J","goog/math/math.js"],[1530991559994,"^19","^4[","^50"],["^1J","goog/string/stringformat.js"],[1530991559994,"^19","^4Y"],["^1J","goog/events/eventtype.js"],[1530991559994,"^19","~$goog.userAgent"],["^1J","goog/labs/useragent/browser.js"],[1530991559994,"^19","^4[","^4X","~$goog.object","^4Y"],["^1J","goog/array/array.js"],[1530991559994,"^19","^50"],["^1J","goog/useragent/useragent.js"],[1530991559994,"^19","~$goog.labs.userAgent.browser","~$goog.labs.userAgent.engine","~$goog.labs.userAgent.platform","^4X","~$goog.reflect","^4Y"],["^1J","goog/structs/prioritypool.js"],[1530991559994,"^19","~$goog.structs.Pool","~$goog.structs.PriorityQueue"],["^4Z","~$cljs.tools.reader.reader-types"],[1535746854000],["~:shadow.build.js-support/require","firebase-admin"],["^V","shadow.js.shim.module$firebase_admin.js","^19"],["^1J","goog/async/run.js"],[1530991559994,"^19","~$goog.async.WorkQueue","~$goog.async.nextTick","~$goog.async.throwException"],["^1J","taoensso/encore.cljs"],[1535586406568,"^19","^18","^1;","~$clojure.set","~$cljs.reader","~$cljs.tools.reader.edn","~$cljs.test","^5:","^4Y","~$goog.string.format","~$goog.string.StringBuffer","~$goog.events","~$goog.net.XhrIo","~$goog.net.XhrIoPool","~$goog.Uri.QueryData","~$goog.structs","~$goog.net.EventType","~$goog.net.ErrorCode","~$taoensso.truss"],["^1J","goog/debug/error.js"],[1530991559994,"^19"],["^1J","goog/async/workqueue.js"],[1530991559994,"^19","^50","~$goog.async.FreeList"],["^1J","promesa/impl/scheduler.cljc"],[1535586406328,"^19","^18","~$promesa.protocols"],["^1J","goog/events/events.js"],[1530991559994,"^19","^50","~$goog.debug.entryPointRegistry","~$goog.events.BrowserEvent","~$goog.events.BrowserFeature","~$goog.events.Listenable","~$goog.events.ListenerMap"],["^1J","goog/promise/resolver.js"],[1530991559994,"^19"],["^1J","goog/events/browserfeature.js"],[1530991559994,"^19","^59"],["^1J","cljs/tools/reader/edn.cljs"],[1535746854877,"^19","^18","~$cljs.tools.reader.impl.errors","^5A","~$cljs.tools.reader.impl.utils","~$cljs.tools.reader.impl.commons","~$cljs.tools.reader","^4Y","^5K"],["^1J","goog/structs/priorityqueue.js"],[1530991559994,"^19","~$goog.structs.Heap"],["^1J","goog/net/xhrio.js"],[1530991559994,"^19","~$goog.Timer","^4[","^50","^5V","^57","~$goog.json.hybrid","~$goog.log","^5R","^5Q","~$goog.net.HttpStatus","~$goog.net.XmlHttp","^4Y","^5P","~$goog.structs.Map","~$goog.uri.utils","^59"],["^1J","goog/promise/thenable.js"],[1530991559994,"^19"],["^1J","promesa/impl.cljc"],[1535586406328,"^19","^18","^5U","~$org.bluebird"],["^1J","goog/dom/nodetype.js"],[1530991559994,"^19"],["^4Z","^="],[1535586406000],["^1J","cljs/tools/reader/impl/inspect.cljs"],[1535746854877,"^19","^18"],["^1J","cljs/pprint.cljs"],[1534380137690,"^19","^18","^1;","^4Y","^5K"],["^4Z","~$cljs.spec.gen.alpha"],[1534380137000],["^1J","data_cleaner/images.cljs"],[1537237071299,"^19","^18","^1;","^V","^X","^B","^Z","^15","~$goog.crypt.Md5","~$goog.crypt","^6<","~$cljs.spec.alpha","^="],["^1J","cljs/tools/reader.cljs"],[1535746854877,"^19","^18","^5A","^60","^61","^5[","^4[","^4Y","^5K"],["^5B","initial-state"],["^X","shadow.js.shim.module$initial_state.js","^19"],["^1J","goog/net/wrapperxmlhttpfactory.js"],[1530991559994,"^19","~$goog.net.XhrLike","~$goog.net.XmlHttpFactory"],["^1J","goog/events/eventtarget.js"],[1530991559994,"^19","~$goog.Disposable","^50","^5L","~$goog.events.Event","^5Y","^5Z","^5:"],["^1J","goog/disposable/disposable.js"],[1530991559994,"^19","~$goog.disposable.IDisposable"],["^1J","goog/object/object.js"],[1530991559994,"^19"],["^1J","goog/structs/set.js"],[1530991559994,"^19","^5P","~$goog.structs.Collection","^69"],"~:SHADOW-TIMESTAMP",[1535746856000,1534380137000],["^1J","goog/math/long.js"],[1530991559994,"^19","^50","^5>"],["^1J","goog/events/listener.js"],[1530991559994,"^19","~$goog.events.ListenableKey"],["^1J","cljs/core/async/impl/channels.cljs"],[1534380136417,"^19","^18","^4W","^54","^52"],["^1J","goog/events/listenermap.js"],[1530991559994,"^19","^4[","~$goog.events.Listener","^5:"],["^1J","goog/events/eventid.js"],[1530991559994,"^19"],["^1J","taoensso/truss.cljs"],[1535586406478,"^19","^18","~$taoensso.truss.impl"],["^1J","data_cleaner/core.cljs"],[1537237073322,"^19","^18","^1;","^V","^X","^B","^Z","^14","^15","^="],["^5B","@google-cloud/bigquery"],["^Z","shadow.js.shim.module$$google_cloud$bigquery.js","^19"],["^1J","shadow/test/env.cljs"],[1535746856094,"^19","^18"],["^1J","goog/functions/functions.js"],[1530991559994,"^19"],["^1J","cljs/core/async/impl/dispatch.cljs"],[1534380136417,"^19","^18","^52","^5D"],["^1J","taoensso/truss/impl.cljs"],[1535586406478,"^19","^18","^5F"],["^1J","clojure/walk.cljs"],[1534380137690,"^19","^18"],["^1J","cljs/core/async/impl/protocols.cljs"],[1534380136417,"^19","^18"],["^1J","goog/net/eventtype.js"],[1530991559994,"^19"],["^1J","goog/structs/map.js"],[1530991559994,"^19","~$goog.iter.Iterator","~$goog.iter.StopIteration","^5:"],["^1J","goog/net/xhriopool.js"],[1530991559994,"^19","^5M","~$goog.structs.PriorityPool"],["^1J","goog/structs/queue.js"],[1530991559994,"^19","^4["],["^1J","goog/labs/useragent/engine.js"],[1530991559994,"^19","^4[","^4X","^4Y"],["^1J","taoensso/timbre/appenders/core.cljs"],[1535586406375,"^19","^18","^1;","~$taoensso.encore"],["^1J","cljs/reader.cljs"],[1534380137690,"^19","^18","^5:","^62","^5H","^5K"],["^5B","bluebird"],["~$shadow.js.shim.module$bluebird","shadow.js.shim.module$bluebird.js","^19"],["^4Z","^6?"],[1534380137000],["^1J","goog/asserts/asserts.js"],[1530991559994,"^19","~$goog.debug.Error","~$goog.dom.NodeType","^4Y"],["^1J","cljs/core/async/impl/buffers.cljs"],[1534380136417,"^19","^18","^4W"],["^4Z","~$cljs.pprint"],[1534380137000],["^1J","goog/debug/logbuffer.js"],[1530991559994,"^19","^50","~$goog.debug.LogRecord"],["^4Z","^6M"],[1535586406000],["^1J","goog/uri/uri.js"],[1530991559994,"^19","^4[","^50","^4Y","^5P","^69","^6:","~$goog.uri.utils.ComponentIndex","~$goog.uri.utils.StandardQueryParam"],["^1J","goog/net/errorcode.js"],[1530991559994,"^19"],["^4Z","^5I"],[1534380137000],["^4Z","^B"],[1534380136000],["^1J","goog/disposable/idisposable.js"],[1530991559994,"^19"],["^1J","goog/crypt/md5.js"],[1530991559994,"^19","~$goog.crypt.Hash"],["^1J","goog/promise/promise.js"],[1530991559994,"^19","~$goog.Thenable","^50","^5T","~$goog.async.run","^5E","^6O","~$goog.promise.Resolver"],["^1J","cljs/core/async/impl/timers.cljs"],[1534380136417,"^19","^18","^4W","^51","^54"],["^1J","cljs/spec/alpha.cljs"],[1534380137690,"^19","^18","^5:","~$clojure.walk","^6<","^1;"],["^1J","goog/debug/logrecord.js"],[1530991559994,"^19"],["^1J","goog/base.js"],[1530991559994],["^1J","promesa/core.cljc"],[1535586406328,"^19","^18","^5U","~$promesa.impl","~$promesa.impl.scheduler"],["^1J","goog/json/hybrid.js"],[1530991559994,"^19","^50","~$goog.json"],["^1J","goog/structs/structs.js"],[1530991559994,"^19","^4[","^5:"],["^1J","cljs/tools/reader/impl/errors.cljs"],[1535746854877,"^19","^18","^5A","^1;","~$cljs.tools.reader.impl.inspect"],["^1J","org/bluebird.cljs"],[1535669979047,"^19","^18","^6N"],["^1J","clojure/string.cljs"],[1534380137690,"^19","^18","^4Y","^5K"],["^1J","goog/structs/pool.js"],[1530991559994,"^19","^6B","~$goog.structs.Queue","~$goog.structs.Set"],["^1J","goog/net/httpstatus.js"],[1530991559994,"^19"],["^1J","goog/structs/heap.js"],[1530991559994,"^19","^4[","^5:","~$goog.structs.Node"],["^1J","goog/debug/entrypointregistry.js"],[1530991559994,"^19","^50"],["^1J","goog/string/string.js"],[1530991559994,"^19"],["^1J","goog/crypt/hash.js"],[1530991559994,"^19"],["^1J","goog/reflect/reflect.js"],[1530991559994,"^19"],["^1J","goog/labs/useragent/util.js"],[1530991559994,"^19","^4Y"],["^4Z","~$clojure.template"],[1534380136000],["^4Z","~$cljs.core.async.impl.ioc-macros"],[1534380136000],["^1J","goog/debug/debug.js"],[1530991559994,"^19","^4[","~$goog.debug.errorcontext","^59"],["^1J","goog/string/stringbuffer.js"],[1530991559994,"^19"],["^1J","goog/debug/errorcontext.js"],[1530991559994,"^19"],["^1J","cljs/tools/reader/reader_types.cljs"],[1535746854877,"^19","^18","^60","^4Y","^5K"],["^1J","promesa/protocols.cljc"],[1535586406328,"^19","^18"],["^1J","goog/iter/iter.js"],[1530991559994,"^19","^4[","^50","~$goog.functions","~$goog.math"],["^1J","goog/async/nexttick.js"],[1530991559994,"^19","^5V","~$goog.dom.TagName","^78","^5;","^5<"],["^1J","goog/debug/logger.js"],[1530991559994,"^19","^4[","^50","~$goog.debug","~$goog.debug.LogBuffer","^6R"],["^1J","goog/events/event.js"],[1530991559994,"^19","^6B","~$goog.events.EventId"],["^1J","cljs/tools/reader/impl/commons.cljs"],[1535746854877,"^19","^18","^5[","^5A","^60"],["^1J","goog/dom/htmlelement.js"],[1530991559994,"^19"],["^1J","cljs/core.cljs"],[1534380137690,"~$goog.math.Long","~$goog.math.Integer","^4Y","^5:","^4[","^58","^5K"],["^1J","goog/log/log.js"],[1530991559994,"^19","^7;","~$goog.debug.LogManager","^6R","~$goog.debug.Logger"],["^1J","goog/structs/collection.js"],[1530991559994,"^19"],["^1J","goog/events/browserevent.js"],[1530991559994,"^19","^5X","^6C","~$goog.events.EventType","^5>","^59"],["^1J","goog/math/integer.js"],[1530991559994,"^19"],["^1J","goog/structs/node.js"],[1530991559994,"^19"],["^4Z","^6I"],[1535586406000],["^1J","clojure/set.cljs"],[1534380137690,"^19","^18"],["^1J","goog/uri/utils.js"],[1530991559994,"^19","^4[","^50","^4Y"],["^1J","taoensso/timbre.cljs"],[1535586406375,"^19","^18","^1;","^6M","~$taoensso.timbre.appenders.core"],["^1J","goog/json/json.js"],[1530991559994,"^19"],["^1J","goog/events/listenable.js"],[1530991559994,"^19","^7="],["^1J","goog/net/xmlhttpfactory.js"],[1530991559994,"^19","^6@"],["^1J","goog/net/xmlhttp.js"],[1530991559994,"^19","^50","~$goog.net.WrapperXmlHttpFactory","^6A"],["^1J","cljs/test.cljs"],[1534380137690,"~$shadow.test.env","^19","^18","^1;","^6Q"],["^1J","goog/net/xhrlike.js"],[1530991559994,"^19"],["^4Z","^5G"],[1534380137000]]],"~:analyzer",["^ ","^3",null,"^4",["^ "],"^5",["^ ","^6","data_cleaner/core.cljs","^7",1,"^8",5,"^9",1,"^:",22],"^;",["^ ","^<","^=","^>","^=","^?","^=","^@","^=","^A","^B","^C","^=","^D","^B","^E","^=","^F","^=","^G","^=","^H","^=","^I","^=","^J","^=","^K","^=","^L","^=","^M","^=","^N","^=","^O","^="],"^P",["^Q",[]],"~:shadow/js-access-properties",["^Q",["bucket","collection","applicationDefault","firestore","insert","now","initializeApp","round"]],"^R","^S","^T",["^ ","^U","^V","^W","^X","^Y","^Z"],"^11",null,"^12",["^ ","^13","^Z","~$i","^14","~$p","^15","^15","^15","^16","^=","~$a","^B","^17","^V","^X","^X","^14","^14","^18","^18","^19","^19","^1:","^X","^B","^B","^V","^V","^Z","^Z","~$s","^1;","^=","^=","^1;","^1;"],"^1<",["^Q",["^1=","^1>"]],"~:shadow/js-access-global",["^Q",["parseFloat","Date","Buffer","Math","Error","parseInt"]],"^1?",null,"~:defs",["^ ","~$get-initial-state-promise",["^ ","~:protocol-inline",null,"^5",["^ ","^6","data_cleaner/core.cljs","^7",96,"^8",7,"^9",96,"^:",32,"~:arglists",["^1A",["~$quote",["^1A",[["~$device-promise"]]]]]],"^R","~$data-cleaner.core/get-initial-state-promise","~:variadic",false,"^6","data_cleaner/core.cljs","^:",32,"~:method-params",["^1A",[["^7N"]]],"~:protocol-impl",null,"~:arglists-meta",["^1A",[null,null]],"^8",1,"^7",96,"^9",96,"~:max-fixed-arity",1,"~:fn-var",true,"^7L",["^1A",["^7M",["^1A",[["^7N"]]]]]],"~$subscribe",["^ ","^7K",null,"^5",["^ ","^6","data_cleaner/core.cljs","^7",104,"^8",7,"^9",104,"^:",16,"^7L",["^1A",["^7M",["^1A",[["~$event","~$context"]]]]],"~:doc","Triggered from a message on a Cloud Pub/Sub topic.\n  * @param {!Object} event The Cloud Functions event.\n  example event inside data\n  :deviceId blue-cherry,\n  :deviceNumId 2711002696579299,\n  :deviceRegistryId nomes,\n  :deviceRegistryLocation us-central1,\n  :projectId grownome,\n  :subFolder metrics/core-temp-max},\n  :data bm9tZXMvYmx1ZS1jaGVycnktcGF5bG9hZC1jb3JlLXRlbXAtbWF4LzQzLjg1}\n  * @param {!Function} The callback function.\n\n  debug\n  "],"^R","~$data-cleaner.core/subscribe","^7P",false,"^6","data_cleaner/core.cljs","^:",16,"^7Q",["^1A",[["^7W","^7X"]]],"^7R",null,"^7S",["^1A",[null,null]],"^8",1,"^7",104,"^9",104,"^7T",2,"^7U",true,"^7L",["^1A",["^7M",["^1A",[["^7W","^7X"]]]]],"^7Y","Triggered from a message on a Cloud Pub/Sub topic.\n  * @param {!Object} event The Cloud Functions event.\n  example event inside data\n  :deviceId blue-cherry,\n  :deviceNumId 2711002696579299,\n  :deviceRegistryId nomes,\n  :deviceRegistryLocation us-central1,\n  :projectId grownome,\n  :subFolder metrics/core-temp-max},\n  :data bm9tZXMvYmx1ZS1jaGVycnktcGF5bG9hZC1jb3JlLXRlbXAtbWF4LzQzLjg1}\n  * @param {!Function} The callback function.\n\n  debug\n  "],"~$clean-value",["^ ","^7K",null,"^5",["^ ","^6","data_cleaner/core.cljs","^7",50,"^8",7,"^9",50,"^:",18,"^7L",["^1A",["^7M",["^1A",[["~$name","~$value"]]]]]],"^R","~$data-cleaner.core/clean-value","^7P",false,"^6","data_cleaner/core.cljs","^:",18,"^7Q",["^1A",[["^80","^81"]]],"^7R",null,"^7S",["^1A",[null,null]],"^8",1,"^7",50,"^9",50,"^7T",2,"^7U",true,"^7L",["^1A",["^7M",["^1A",[["^80","^81"]]]]]],"~$offset-temp-factor",["^ ","^7K",null,"^5",["^ ","^6","data_cleaner/core.cljs","^7",38,"^8",7,"^9",38,"^:",25,"^7L",["^1A",["^7M",["^1A",[["~$m","~$b","~$temp"]]]]]],"^R","~$data-cleaner.core/offset-temp-factor","^7P",false,"^6","data_cleaner/core.cljs","^:",25,"^7Q",["^1A",[["~$m","~$b","^84"]]],"^7R",null,"^7S",["^1A",[null,null]],"^8",1,"^7",38,"^9",38,"^7T",3,"^7U",true,"^7L",["^1A",["^7M",["^1A",[["~$m","~$b","^84"]]]]]],"~$assemble-images",["^ ","^7K",null,"^5",["^ ","^6","data_cleaner/core.cljs","^7",172,"^8",7,"^9",172,"^:",22,"^7L",["^1A",["^7M",["^1A",[["^7W","^7X"]]]]]],"^R","~$data-cleaner.core/assemble-images","^7P",false,"^6","data_cleaner/core.cljs","^:",22,"^7Q",["^1A",[["^7W","^7X"]]],"^7R",null,"^7S",["^1A",[null,null]],"^8",1,"^7",172,"^9",172,"^7T",2,"^7U",true,"^7L",["^1A",["^7M",["^1A",[["^7W","^7X"]]]]]],"~$cleanup-temp",["^ ","^7K",null,"^5",["^ ","^6","data_cleaner/core.cljs","^7",42,"^8",7,"^9",42,"^:",19,"^7L",["^1A",["^7M",["^1A",[["^81"]]]]]],"^R","~$data-cleaner.core/cleanup-temp","^7P",false,"^6","data_cleaner/core.cljs","^:",19,"^7Q",["^1A",[["^81"]]],"^7R",null,"^7S",["^1A",[null,null]],"^8",1,"^7",42,"^9",42,"^7T",1,"^7U",true,"^7L",["^1A",["^7M",["^1A",[["^81"]]]]]],"~$get-device-promise",["^ ","^7K",null,"^5",["^ ","^6","data_cleaner/core.cljs","^7",78,"^8",7,"^9",78,"^:",25,"^7L",["^1A",["^7M",["^1A",[["~$fs","~$num-id"]]]]]],"^R","~$data-cleaner.core/get-device-promise","^7P",false,"^6","data_cleaner/core.cljs","^:",25,"^7Q",["^1A",[["^8;","^8<"]]],"^7R",null,"^7S",["^1A",[null,null]],"^8",1,"^7",78,"^9",78,"^7T",2,"^7U",true,"^7L",["^1A",["^7M",["^1A",[["^8;","^8<"]]]]]],"~$cleanup-humidity",["^ ","^7K",null,"^5",["^ ","^6","data_cleaner/core.cljs","^7",46,"^8",7,"^9",46,"^:",23,"^7L",["^1A",["^7M",["^1A",[["^81"]]]]]],"^R","~$data-cleaner.core/cleanup-humidity","^7P",false,"^6","data_cleaner/core.cljs","^:",23,"^7Q",["^1A",[["^81"]]],"^7R",null,"^7S",["^1A",[null,null]],"^8",1,"^7",46,"^9",46,"^7T",1,"^7U",true,"^7L",["^1A",["^7M",["^1A",[["^81"]]]]]],"~$push-inital-state",["^ ","^7K",null,"^5",["^ ","^6","data_cleaner/core.cljs","^7",35,"^8",7,"^9",35,"^:",24,"^7L",["^1A",["^7M",["^1A",[["~$bucket","~$reading","^81","~$timestamp"]]]]]],"^R","~$data-cleaner.core/push-inital-state","^7P",false,"^6","data_cleaner/core.cljs","^:",24,"^7Q",["^1A",[["^8A","^8B","^81","^8C"]]],"^7R",null,"^7S",["^1A",[null,null]],"^8",1,"^7",35,"^9",35,"^7T",4,"^7U",true,"^7L",["^1A",["^7M",["^1A",[["^8A","^8B","^81","^8C"]]]]]],"~$example-data",["^ ","^R","~$data-cleaner.core/example-data","^6","data_cleaner/core.cljs","^7",56,"^8",1,"^9",56,"^:",18,"^5",["^ ","^6","data_cleaner/core.cljs","^7",56,"^8",6,"^9",56,"^:",18],"~:tag","~$cljs.core/IMap"],"~$app",["^ ","^R","~$data-cleaner.core/app","^6","data_cleaner/core.cljs","^7",15,"^8",1,"^9",15,"^:",13,"^5",["^ ","^6","data_cleaner/core.cljs","^7",15,"^8",10,"^9",15,"^:",13],"^8G","~$js"],"~$bq-insert",["^ ","^7K",null,"^5",["^ ","^6","data_cleaner/core.cljs","^7",20,"^8",7,"^9",20,"^:",16,"^7L",["^1A",["^7M",["^1A",[["~$dataset","~$table","~$data"],["^8O"]]]]],"~:top-fn",["^ ","^7P",false,"^7T",3,"^7Q",["^1A",[["^8M","^8N","^8O"],["^8O"]]],"^7L",["^1A",[["^8M","^8N","^8O"],["^8O"]]],"^7S",["^1A",[null,null]]]],"^R","~$data-cleaner.core/bq-insert","^7P",false,"^6","data_cleaner/core.cljs","^:",16,"^8P",["^ ","^7P",false,"^7T",3,"^7Q",["^1A",[["^8M","^8N","^8O"],["^8O"]]],"^7L",["^1A",[["^8M","^8N","^8O"],["^8O"]]],"^7S",["^1A",[null,null]]],"^7Q",["^1A",[["^8M","^8N","^8O"],["^8O"]]],"^7R",null,"^7S",["^1A",[null,null]],"^8",1,"^7",20,"^9",20,"^7T",3,"^7U",true,"^7L",["^1A",[["^8M","^8N","^8O"],["^8O"]]]],"~$bq-client",["^ ","^R","~$data-cleaner.core/bq-client","^6","data_cleaner/core.cljs","^7",18,"^8",1,"^9",18,"^:",19,"^5",["^ ","^6","data_cleaner/core.cljs","^7",18,"^8",10,"^9",18,"^:",19],"^8G","~$js/shadow.js.shim.module$$google_cloud$bigquery"]],"^1>",["^ ","^B","^B","^=","^=","^16","^=","^18","^18","~$a","^B"],"~:cljs.analyzer/constants",["^ ","^1<",["^Q",["~$js->clj","~$aget","~:device-id","~:part-id","~:else","~:image-part","~:image-id","~:debug","~$err","~:info","~:error","~:auto","~:p"]],"~:order",["^93","~:p","^95","^94","^8Z","^91","^8V","^8W","^92","^8X","^90","^8Y","^8["]],"^1F",["^ ","^1>",["^Q",[]],"^1=",["^Q",[]]],"^1G",["^ ","^U",["^ ","^1D","^17"],"^W",["^ ","^1D","^1:"],"^Y",["^ ","^1D","^13"]],"^1H",["^19","^18","^1;","^V","^X","^B","^Z","^14","^15","^="]],"^10","^S","~:ns-specs",["^ "],"~:ns-speced-vars",[],"~:compiler-options",["^4U",[["^99","~:static-fns"],true,["^99","~:elide-asserts"],false,["^99","~:optimize-constants"],null,["^99","~:external-config"],null,["^99","~:tooling-config"],null,["^99","~:emit-constants"],null,["^99","~:infer-externs"],true,["^99","^1O"],null,["~:js-options","~:js-provider"],"^1=",["~:mode"],"~:dev",["^99","~:fn-invoke-direct"],null,["^99","^1Q"],"/dev/null"]]]